<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>Rex&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="起风了，唯有努力生存 风立ちぬ,いぎ生きめやも">
<meta property="og:type" content="website">
<meta property="og:title" content="Rex&#39;s Blog">
<meta property="og:url" content="https://github.com/RoWe98/page/2/index.html">
<meta property="og:site_name" content="Rex&#39;s Blog">
<meta property="og:description" content="起风了，唯有努力生存 风立ちぬ,いぎ生きめやも">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Rex&#39;s Blog">
<meta name="twitter:description" content="起风了，唯有努力生存 风立ちぬ,いぎ生きめやも">
  
    <link rel="alternate" href="/atom.xml" title="Rex&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
  <link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Rex&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Code and Passion</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://github.com/RoWe98"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-单片机课设" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/10/单片机课设/" class="article-date">
  <time datetime="2019-07-10T13:55:54.000Z" itemprop="datePublished">2019-07-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/10/单片机课设/">89C51电子欧式铃</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="89C51电子欧式铃"><a href="#89C51电子欧式铃" class="headerlink" title="89C51电子欧式铃"></a>89C51电子欧式铃</h1><h2 id="一、目的及要求"><a href="#一、目的及要求" class="headerlink" title="一、目的及要求"></a>一、目的及要求</h2><p>基于89c51、LCD1602A以及蜂鸣器，实现带有温度显示和计数功能的电子欧式拨铃。 </p>
<h2 id="二、环境"><a href="#二、环境" class="headerlink" title="二、环境"></a>二、环境</h2><ul>
<li>KELI uVision4、</li>
<li>2.STC89C51的单片机</li>
<li>3.LCD1602A显示屏</li>
<li>4.蜂鸣器、</li>
<li>5.温度传感器</li>
</ul>
<h2 id="三、内容"><a href="#三、内容" class="headerlink" title="三、内容"></a>三、内容</h2><p>编程实现按键对显示器LCD1602A的开机控制并在屏幕打印欢迎语句，同时初始化温度传感器并持续显示当前温度（每秒刷新一次）。每1.0s对K1、K2按键进行一次扫描，判断k1按键是否被按下，若K1按下则蜂鸣器发声提示有客人需要被服务且待服务数加一；判断k2键是否被按下，若有，则显示当前等待的访客数；否则一直循坏。</p>
<h2 id="四、接口引脚图"><a href="#四、接口引脚图" class="headerlink" title="四、接口引脚图"></a>四、接口引脚图</h2><ul>
<li><p>89C51芯片引脚接口图<br><img src="https://s2.ax1x.com/2019/07/10/Zg0GAP.png" alt></p>
</li>
<li><p>LCD1602A引脚图<br><img src="https://s2.ax1x.com/2019/07/10/Zg0Rc4.png" alt></p>
</li>
<li><p>LCD1602A引脚功能表<br><img src="https://s2.ax1x.com/2019/07/10/Zg0OjH.png" alt></p>
</li>
<li><p>K1、K2按键引脚图</p>
<p>  <img src="https://s2.ax1x.com/2019/07/10/ZgBu5V.png" alt></p>
</li>
<li><p>蜂鸣器</p>
<p>  <img src="https://s2.ax1x.com/2019/07/10/ZgBGr9.png" alt></p>
</li>
<li><p>温度传感器</p>
<p>  <img src="https://s2.ax1x.com/2019/07/10/ZgB2IP.png" alt></p>
</li>
</ul>
<h2 id="五、原理"><a href="#五、原理" class="headerlink" title="五、原理"></a>五、原理</h2><p><strong>1.LCD1602A具体功能</strong><br><img src="https://s2.ax1x.com/2019/07/10/Zg0OjH.png" alt></p>
<p>DDRAM 就是显示数据 RAM，用来寄存待显示的字符代码。共 80 个字节，其地 址和屏幕的对应关系如下表:<br><img src="https://s2.ax1x.com/2019/07/10/ZgBOiV.png" alt></p>
<p>也就是说想要在 LCD1602 屏幕的第一行第一列显示一个”A”字,就要向 DDRAM 的 00H 地址写入“A”字的代码就行了。但具体的写入是要按 LCD 模块的指令格 式来进行的，后面我会说到的。那么一行可有 40 个地址呀?是的，在 1602 中我 们就用前 16 个就行了。第二行也一样用前 16 个地址。对应如下:<br><img src="https://s2.ax1x.com/2019/07/10/ZgBXGT.png" alt></p>
<p>刚才我说了想要在 LCD1602 屏幕的第一行第一列显示一个”A”字,就要向 DDRAM 的 00H 地址写入“A”字的代码 41H 就行了，可 41H 这一个字节的代码如 何才能让 LCD 模块在屏幕的阵点上显示“A”字呢?同样，在 LCD 模块上也固化 了字模存储器，这就是 CGROM 和 CGRAM。HD44780 内置了 192 个常用字符的字模， 存于字符产生器 CGROM(Character Generator ROM)中，另外还有 8 个允许用户 自定义的字符产生 RAM，称为 CGRAM(Character Generator RAM)。下图说明了 CGROM 和 CGRAM 与字符的对应关系。<br><img src="https://s2.ax1x.com/2019/07/10/ZgBzM4.png" alt></p>
<p>从上图可以看出，“A”字的对应上面高位代码为 0100，对应左边低位代码 为 0001，合起来就是 01000001，也就是 41H。可见它的代码与我们 PC 中的字符 代码是基本一致的。因此我们在向DDRAM写C51字符代码程序时甚至可以直接用 P1=’A’这样的方法。PC 在编译时就把“A”先转为 41H 代码了。</p>
<p><strong>2.温度传感器具体功能</strong></p>
<p><img src="https://s2.ax1x.com/2019/07/10/ZgDCZR.png" alt></p>
<p>DS1820 通过门开通期间内低温度系数振荡器经历的时钟周期个数计数来测量温度 而门开通 期由高温度系数振荡器决定 计数器予置对应于-55 的基数 如果在门开通期结束前计数器达到 零 那么温度寄存器 它也被予置到-55 的数值 将增量 指示温度高于-55<br>同时 计数器用钭率累加器电路所决定的值进行予置 为了对遵循抛物线规律的振荡器温度特 性进行补偿 这种电路是必需的 时钟再次使计数器计值至它达到零 如果门开通时间仍未结束 那么此过程再次重复<br>钭率累加器用于补偿振荡器温度特性的非线性 以产生高分辩率的温度测量 通过改变温度每 升高一度 计数器必须经历的计数个数来实行补偿 因此 为了获得所需的分辩率 计数器的数值<br>以及在给定温度处每一摄氏度的计数个数 此计算在DS1820内部完成以提供0.5 的分辩率 </p>
<p>钭率累加器的值 二者都必须知道温度读数以 16 位读数形式提供 表 1 说明输出数据对测量温度的关系 数据在单线接口上串行发送 DS1820 可以0.5C的符号扩展的二进制补码 的增量值 在 0.5 至+125 的范围内测量温度 对于应用华氏温度的场合 必须使用查 找表或变换系数 </p>
<p>注意 在DS1820中温度是以1/2 LSB 最低有效位 形式表示时 产生以下9位格式</p>
<p><img src="https://s2.ax1x.com/2019/07/10/ZgDAJK.png" alt></p>
<p>以下的过程可以获得较高的分辩率 首先 读温度 并从读得的值截去0.5 位(最低有效位) 这个值便是 TEMP_READ 然后可以读留在计数器内的值 此值是门开通期停止之后计数剩余 </p>
<p><img src="https://s2.ax1x.com/2019/07/10/ZgDVzD.png" alt></p>
<p>COUNT_REMAIN 所需的最后一个数值是在该温度处每一摄氏度的计数个数 COUNT_PER_C 于 是 用户可以使用下式计算实际温度</p>
<p><img src="https://s2.ax1x.com/2019/07/10/ZgDmsH.png" alt></p>
<p><strong>DS1820指令集</strong><br><img src="https://s2.ax1x.com/2019/07/10/ZgDnLd.png" alt></p>
<h2 id="六、代码"><a href="#六、代码" class="headerlink" title="六、代码"></a>六、代码</h2><p><strong>dooring.c</strong></p>
<pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/* 下载程序后按键K1按下就会触发蜂鸣器门铃“叮咚”响  */</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"reg52.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"LCD.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"stdlib.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"stdio.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"temp.h"</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> u8<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> u16<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">unsigned</span> <span class="token keyword">long</span> u32<span class="token punctuation">;</span>

<span class="token keyword">int</span> pressflag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

u8 Disp<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"New Guests"</span><span class="token punctuation">;</span>
u8 Disp_Hello<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Welcome!!!!!"</span><span class="token punctuation">;</span>
u8 Disp_Test<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Guests:"</span><span class="token punctuation">;</span>

sbit beep<span class="token operator">=</span>P1<span class="token operator">^</span><span class="token number">5</span><span class="token punctuation">;</span>
sbit k1<span class="token operator">=</span>P3<span class="token operator">^</span><span class="token number">1</span><span class="token punctuation">;</span>
sbit k2<span class="token operator">=</span>P3<span class="token operator">^</span><span class="token number">0</span><span class="token punctuation">;</span>
sbit k3<span class="token operator">=</span>P3<span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">;</span>

u8 ding<span class="token punctuation">,</span>dong<span class="token punctuation">,</span>flag<span class="token punctuation">,</span>stop<span class="token punctuation">;</span>
u16 n<span class="token punctuation">;</span>


u16 j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
u32 q<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
u16 k<span class="token punctuation">;</span>

uchar CNCHAR<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Celsius"</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">LcdDisplay</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">UsartConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">void</span> <span class="token function">delayl</span><span class="token punctuation">(</span>u16 k<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>k<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> <span class="token function">delayus</span><span class="token punctuation">(</span>u16 k<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
       <span class="token keyword">while</span><span class="token punctuation">(</span>k<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> <span class="token function">delayms</span><span class="token punctuation">(</span>u16 k<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//</span>
<span class="token punctuation">{</span>
     <span class="token keyword">for</span><span class="token punctuation">(</span>q<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>q<span class="token operator">&lt;</span>k<span class="token punctuation">;</span>q<span class="token operator">++</span><span class="token punctuation">)</span>
     <span class="token punctuation">{</span>
            <span class="token function">delayus</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">delays</span><span class="token punctuation">(</span>u16 k<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//i=1?,???1s</span>
<span class="token punctuation">{</span>     
     <span class="token keyword">for</span><span class="token punctuation">(</span>q<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>q<span class="token operator">&lt;</span>k<span class="token punctuation">;</span>q<span class="token operator">++</span><span class="token punctuation">)</span>
     <span class="token punctuation">{</span>
                <span class="token function">delayms</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">time0init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">//定时器0初始化</span>
<span class="token punctuation">{</span>
    TMOD<span class="token operator">=</span><span class="token number">0X01</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//定时器0 方式1</span>
    TH0<span class="token operator">=</span><span class="token number">0Xff</span><span class="token punctuation">;</span>
    TL0<span class="token operator">=</span><span class="token number">0X06</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//定时250us</span>
<span class="token comment" spellcheck="true">//    TR0=1;</span>
    EA<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    ET0<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">biaohaoinit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment" spellcheck="true">//各个标号初始化</span>
<span class="token punctuation">{</span>
    ding<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//叮声音  计数标志</span>
    dong<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//咚声音  计数标志</span>
    n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//定时0.5s标志</span>
    flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    stop<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//结束标志</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    u8 i<span class="token punctuation">;</span>
    u8 pressk3_flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> temp_now<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token function">biaohaoinit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">LcdInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x88</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token function">LcdWriteData</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">time0init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">delayms</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">LcdInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">11</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">LcdWriteData</span><span class="token punctuation">(</span>Disp_Hello<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span>
        <span class="token function">LcdDisplay</span><span class="token punctuation">(</span><span class="token function">Ds18b20ReadTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">delays</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//延时1秒</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>k1<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>       <span class="token comment" spellcheck="true">//判断按键是否按下</span>
        <span class="token punctuation">{</span>
            <span class="token function">delayl</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//消抖</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>k1<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                pressflag <span class="token operator">=</span> pressflag <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token function">LcdInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                TR0<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//打开定时器0</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token function">LcdWriteData</span><span class="token punctuation">(</span>Disp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
                <span class="token punctuation">}</span>
                <span class="token function">delays</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">LcdInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>stop<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>k2<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">delayl</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//消抖</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>k2<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token function">sprintf</span><span class="token punctuation">(</span>temp_now<span class="token punctuation">,</span><span class="token string">"%d"</span><span class="token punctuation">,</span>pressflag<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">LcdInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">7</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token function">LcdWriteData</span><span class="token punctuation">(</span>Disp_Test<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
                <span class="token punctuation">}</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token function">LcdWriteData</span><span class="token punctuation">(</span>temp_now<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
                <span class="token punctuation">}</span>
                <span class="token function">delays</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">LcdInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>k3<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            pressk3_flag <span class="token operator">=</span> pressk3_flag <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token function">UsartConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">delayl</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//消抖</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>k3<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token function">LcdInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">//LcdDisplay(Ds18b20ReadTemp());</span>
                <span class="token function">delays</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">time0</span><span class="token punctuation">(</span><span class="token punctuation">)</span> interrupt <span class="token number">1</span> <span class="token comment" spellcheck="true">//定时器0中断1</span>
<span class="token punctuation">{</span>
    n<span class="token operator">++</span><span class="token punctuation">;</span>
    TH0<span class="token operator">=</span><span class="token number">0Xff</span><span class="token punctuation">;</span>
    TL0<span class="token operator">=</span><span class="token number">0X06</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//250us</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">2000</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">//定时0.5s  叮响0.5秒，咚响0.5秒</span>
    <span class="token punctuation">{</span>
        n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            flag<span class="token operator">=</span><span class="token operator">~</span>flag<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            stop<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
            TR0<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//关闭定时器0</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>                       <span class="token comment" spellcheck="true">//通过改变定时计数时间可以改变门铃的声音</span>
        ding<span class="token operator">++</span><span class="token punctuation">;</span>              <span class="token comment" spellcheck="true">//叮</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>ding<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            ding<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            beep<span class="token operator">=</span><span class="token operator">~</span>beep<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        dong<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>dong<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>          <span class="token comment" spellcheck="true">//咚</span>
        <span class="token punctuation">{</span>
            dong<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            beep<span class="token operator">=</span><span class="token operator">~</span>beep<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>    
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>



<span class="token comment" spellcheck="true">/*******************************************************************************
* 函数名         : LcdDisplay()
* 函数功能           : LCD显示读取到的温度
* 输入           : v
* 输出              : 无
*******************************************************************************/</span>

<span class="token keyword">void</span> <span class="token function">LcdDisplay</span><span class="token punctuation">(</span><span class="token keyword">int</span> temp<span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">//lcd显示</span>
<span class="token punctuation">{</span>
      <span class="token keyword">unsigned</span> <span class="token keyword">char</span> i<span class="token punctuation">,</span> datas<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//定义数组</span>
    <span class="token keyword">float</span> tp<span class="token punctuation">;</span>  
    <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token comment" spellcheck="true">//当温度值为负数</span>
      <span class="token punctuation">{</span>
          <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x80</span><span class="token operator">+</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//写地址 80表示初始地址 +</span>
        SBUF<span class="token operator">=</span><span class="token string">'-'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将接收到的数据放入到发送寄存器</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>TI<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">//等待发送数据完成</span>
        TI<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>                         <span class="token comment" spellcheck="true">//清除发送完成标志位</span>
        <span class="token function">LcdWriteData</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//显示负</span>
        <span class="token comment" spellcheck="true">//因为读取的温度是实际温度的补码，所以减1，再取反求出原码</span>
        temp<span class="token operator">=</span>temp<span class="token number">-1</span><span class="token punctuation">;</span>
        temp<span class="token operator">=</span><span class="token operator">~</span>temp<span class="token punctuation">;</span>
        tp<span class="token operator">=</span>temp<span class="token punctuation">;</span>
        temp<span class="token operator">=</span>tp<span class="token operator">*</span><span class="token number">0.0625</span><span class="token operator">*</span><span class="token number">100</span><span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">;</span>    
        <span class="token comment" spellcheck="true">//留两个小数点就*100，+0.5是四舍五入，因为C语言浮点数转换为整型的时候把小数点</span>
        <span class="token comment" spellcheck="true">//后面的数自动去掉，不管是否大于0.5，而+0.5之后大于0.5的就是进1了，小于0.5的就</span>
        <span class="token comment" spellcheck="true">//算由�0.5，还是在小数点后面。</span>

      <span class="token punctuation">}</span>
     <span class="token keyword">else</span>
      <span class="token punctuation">{</span>            
          <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x80</span><span class="token operator">+</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//写地址 80表示初始地址</span>
        <span class="token function">LcdWriteData</span><span class="token punctuation">(</span><span class="token string">'+'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//显示正</span>
        SBUF<span class="token operator">=</span><span class="token string">'+'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将接收到的数据放入到发送寄存器</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>TI<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">//等待发送数据完成</span>
        TI<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>                         <span class="token comment" spellcheck="true">//清除发送完成标志位</span>
        tp<span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//因为数据处理有小数点所以将温度赋给一个浮点型变量</span>
        <span class="token comment" spellcheck="true">//如果温度是正的那么，那么正数的原码就是补码它本身</span>
        temp<span class="token operator">=</span>tp<span class="token operator">*</span><span class="token number">0.0625</span><span class="token operator">*</span><span class="token number">100</span><span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">;</span>    
        <span class="token comment" spellcheck="true">//留两个小数点就*100，+0.5是四舍五入，因为C语言浮点数转换为整型的时候把小数点</span>
        <span class="token comment" spellcheck="true">//后面的数自动去掉，不管是否大于0.5，而+0.5之后大于0.5的就是进1了，小于0.5的就</span>
        <span class="token comment" spellcheck="true">//算加上0.5，还是在小数点后面。</span>
    <span class="token punctuation">}</span>
    datas<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp <span class="token operator">/</span> <span class="token number">10000</span><span class="token punctuation">;</span>
    datas<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp <span class="token operator">%</span> <span class="token number">10000</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    datas<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp <span class="token operator">%</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>
    datas<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>
    datas<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>
    datas<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">223</span><span class="token punctuation">;</span>
    datas<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'C'</span><span class="token punctuation">;</span>

    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x82</span><span class="token operator">+</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//写地址 80表示初始地址</span>
    <span class="token function">LcdWriteData</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token operator">+</span>datas<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//百位 </span>
    SBUF <span class="token operator">=</span> <span class="token string">'0'</span><span class="token operator">+</span>datas<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将接收到的数据放入到发送寄存器</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>TI<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">//等待发送数据完成</span>
    TI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x83</span><span class="token operator">+</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//写地址 80表示初始地址</span>
    <span class="token function">LcdWriteData</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token operator">+</span>datas<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//十位</span>
    SBUF <span class="token operator">=</span> <span class="token string">'0'</span><span class="token operator">+</span>datas<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将接收到的数据放入到发送寄存器</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>TI<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">//等待发送数据完成</span>
    TI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x84</span><span class="token operator">+</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//写地址 80表示初始地址</span>
    <span class="token function">LcdWriteData</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token operator">+</span>datas<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//个位 </span>
    SBUF <span class="token operator">=</span> <span class="token string">'0'</span><span class="token operator">+</span>datas<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将接收到的数据放入到发送寄存器</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>TI<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">//等待发送数据完成</span>
    TI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x85</span><span class="token operator">+</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//写地址 80表示初始地址</span>
    <span class="token function">LcdWriteData</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//显示 ‘.’</span>
    SBUF <span class="token operator">=</span> <span class="token string">'.'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将接收到的数据放入到发送寄存器</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>TI<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">//等待发送数据完成</span>
    TI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x86</span><span class="token operator">+</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//写地址 80表示初始地址</span>
    <span class="token function">LcdWriteData</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token operator">+</span>datas<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//显示小数点  </span>
    SBUF <span class="token operator">=</span> <span class="token string">'0'</span><span class="token operator">+</span>datas<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将接收到的数据放入到发送寄存器</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>TI<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">//等待发送数据完成</span>
    TI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x87</span><span class="token operator">+</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//写地址 80表示初始地址</span>
    <span class="token function">LcdWriteData</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token operator">+</span>datas<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//显示小数点 </span>
    SBUF <span class="token operator">=</span> <span class="token string">'0'</span><span class="token operator">+</span>datas<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将接收到的数据放入到发送寄存器</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>TI<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">//等待发送数据完成</span>
    TI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x88</span><span class="token operator">+</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//写地址 80表示初始地址</span>
    <span class="token function">LcdWriteData</span><span class="token punctuation">(</span>datas<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//显示小数点 </span>
    SBUF <span class="token operator">=</span> <span class="token string">'0'</span><span class="token operator">+</span>datas<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将接收到的数据放入到发送寄存器</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>TI<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">//等待发送数据完成</span>
    TI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x89</span><span class="token operator">+</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//写地址 80表示初始地址</span>
    <span class="token function">LcdWriteData</span><span class="token punctuation">(</span>datas<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//显示小数点 </span>
    SBUF <span class="token operator">=</span> <span class="token string">'0'</span><span class="token operator">+</span>datas<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将接收到的数据放入到发送寄存器</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>TI<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">//等待发送数据完成</span>
    TI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
         SBUF <span class="token operator">=</span> CNCHAR<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将接收到的数据放入到发送寄存器</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>TI<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">//等待发送数据完成</span>
        TI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*******************************************************************************
* 函 数 名         :UsartConfiguration()
* 函数功能           :设置串口
* 输    入         : 无
* 输    出         : 无
*******************************************************************************/</span>

<span class="token keyword">void</span> <span class="token function">UsartConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    SCON<span class="token operator">=</span><span class="token number">0X50</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//设置为工作方式1</span>
    TMOD<span class="token operator">=</span><span class="token number">0X20</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//设置计数器工作方式2</span>
    PCON<span class="token operator">=</span><span class="token number">0X80</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//波特率加倍</span>
    TH1<span class="token operator">=</span><span class="token number">0XF3</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//计数器初始值设置，注意波特率是4800的</span>
    TL1<span class="token operator">=</span><span class="token number">0XF3</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//    ES=1;                        //打开接收中断</span>
<span class="token comment" spellcheck="true">//    EA=1;                        //打开总中断</span>
    TR1<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">//打开计数器</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>LCD.c</strong></p>
<pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"LCD.h"</span></span>

<span class="token comment" spellcheck="true">/*******************************************************************************
* 函 数 名         : Lcd1602_Delay1ms
* 函数功能           : 延时函数，延时1ms
* 输    入         : c
* 输    出         : 无
* 说    名         : 该函数是在12MHZ晶振下，12分频单片机的延时。
*******************************************************************************/</span>

<span class="token keyword">void</span> <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span>uint c<span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">//误差 0us</span>
<span class="token punctuation">{</span>
    uchar a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> c<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">;</span> c<span class="token operator">--</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
         <span class="token keyword">for</span> <span class="token punctuation">(</span>b<span class="token operator">=</span><span class="token number">199</span><span class="token punctuation">;</span>b<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">;</span>b<span class="token operator">--</span><span class="token punctuation">)</span>
         <span class="token punctuation">{</span>
              <span class="token keyword">for</span><span class="token punctuation">(</span>a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>a<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">;</span>a<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>      
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/*******************************************************************************
* 函 数 名         : LcdWriteCom
* 函数功能           : 向LCD写入一个字节的命令
* 输    入         : com
* 输    出         : 无
*******************************************************************************/</span>
<span class="token macro property">#<span class="token directive keyword">ifndef</span>     LCD1602_4PINS     </span><span class="token comment" spellcheck="true">//当没有定义这个LCD1602_4PINS时</span>
<span class="token keyword">void</span> <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span>uchar com<span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">//写入命令</span>
<span class="token punctuation">{</span>
    LCD1602_E <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//使能</span>
    LCD1602_RS <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//选择发送命令</span>
    LCD1602_RW <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//选择写入</span>

    LCD1602_DATAPINS <span class="token operator">=</span> com<span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//放入命令</span>
    <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//等待数据稳定</span>

    LCD1602_E <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>              <span class="token comment" spellcheck="true">//写入时序</span>
    <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//保持时间</span>
    LCD1602_E <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">else</span> </span>
<span class="token keyword">void</span> <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span>uchar com<span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">//写入命令</span>
<span class="token punctuation">{</span>
    LCD1602_E <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//使能清零</span>
    LCD1602_RS <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//选择写入命令</span>
    LCD1602_RW <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//选择写入</span>

    LCD1602_DATAPINS <span class="token operator">=</span> com<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//由于4位的接线是接到P0口的高四位，所以传送高四位不用改</span>
    <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    LCD1602_E <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//写入时序</span>
    <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    LCD1602_E <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    LCD1602_DATAPINS <span class="token operator">=</span> com <span class="token operator">&lt;&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//发送低四位</span>
    <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    LCD1602_E <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//写入时序</span>
    <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    LCD1602_E <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
<span class="token comment" spellcheck="true">/*******************************************************************************
* 函 数 名         : LcdWriteData
* 函数功能           : 向LCD写入一个字节的数据
* 输    入         : dat
* 输    出         : 无
*******************************************************************************/</span>           
<span class="token macro property">#<span class="token directive keyword">ifndef</span>     LCD1602_4PINS           </span>
<span class="token keyword">void</span> <span class="token function">LcdWriteData</span><span class="token punctuation">(</span>uchar dat<span class="token punctuation">)</span>            <span class="token comment" spellcheck="true">//写入数据</span>
<span class="token punctuation">{</span>
    LCD1602_E <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//使能清零</span>
    LCD1602_RS <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//选择输入数据</span>
    LCD1602_RW <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//选择写入</span>

    LCD1602_DATAPINS <span class="token operator">=</span> dat<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//写入数据</span>
    <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    LCD1602_E <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//写入时序</span>
    <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//保持时间</span>
    LCD1602_E <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">else</span></span>
<span class="token keyword">void</span> <span class="token function">LcdWriteData</span><span class="token punctuation">(</span>uchar dat<span class="token punctuation">)</span>            <span class="token comment" spellcheck="true">//写入数据</span>
<span class="token punctuation">{</span>
    LCD1602_E <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//使能清零</span>
    LCD1602_RS <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//选择写入数据</span>
    LCD1602_RW <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//选择写入</span>

    LCD1602_DATAPINS <span class="token operator">=</span> dat<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//由于4位的接线是接到P0口的高四位，所以传送高四位不用改</span>
    <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    LCD1602_E <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//写入时序</span>
    <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    LCD1602_E <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    LCD1602_DATAPINS <span class="token operator">=</span> dat <span class="token operator">&lt;&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//写入低四位</span>
    <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    LCD1602_E <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//写入时序</span>
    <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    LCD1602_E <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
<span class="token comment" spellcheck="true">/*******************************************************************************
* 函 数 名       : LcdInit()
* 函数功能         : 初始化LCD屏
* 输    入       : 无
* 输    出       : 无
*******************************************************************************/</span>           
<span class="token macro property">#<span class="token directive keyword">ifndef</span>        LCD1602_4PINS</span>
<span class="token keyword">void</span> <span class="token function">LcdInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                          <span class="token comment" spellcheck="true">//LCD初始化子程序</span>
<span class="token punctuation">{</span>
     <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x38</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//开显示</span>
    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x0c</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//开显示不显示光标</span>
    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x06</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//写一个指针加1</span>
    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x01</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//清屏</span>
    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//设置数据指针起点</span>
<span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">else</span></span>
<span class="token keyword">void</span> <span class="token function">LcdInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                          <span class="token comment" spellcheck="true">//LCD初始化子程序</span>
<span class="token punctuation">{</span>
    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//将8位总线转为4位总线</span>
    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//在四位线下的初始化</span>
    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x0c</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//开显示不显示光标</span>
    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x06</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//写一个指针加1</span>
    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x01</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//清屏</span>
    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0x80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//设置数据指针起点</span>
<span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
</code></pre>
<p><strong>LCD.h</strong></p>
<pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">ifndef</span> __LCD_H_</span>
<span class="token macro property">#<span class="token directive keyword">define</span> __LCD_H_</span>
<span class="token comment" spellcheck="true">/**********************************
当使用的是4位数据传输的时候定义，
使用8位取消这个定义
**********************************/</span>
<span class="token comment" spellcheck="true">//#define LCD1602_4PINS</span>

<span class="token comment" spellcheck="true">/**********************************
包含头文件
**********************************/</span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;reg52.h></span></span>

<span class="token comment" spellcheck="true">//---重定义关键词---//</span>
<span class="token macro property">#<span class="token directive keyword">ifndef</span> uchar</span>
<span class="token macro property">#<span class="token directive keyword">define</span> uchar unsigned char</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

<span class="token macro property">#<span class="token directive keyword">ifndef</span> uint </span>
<span class="token macro property">#<span class="token directive keyword">define</span> uint unsigned int</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

<span class="token comment" spellcheck="true">/**********************************
PIN口定义
**********************************/</span>
<span class="token macro property">#<span class="token directive keyword">define</span> LCD1602_DATAPINS P0</span>
sbit LCD1602_E<span class="token operator">=</span>P2<span class="token operator">^</span><span class="token number">7</span><span class="token punctuation">;</span>
sbit LCD1602_RW<span class="token operator">=</span>P2<span class="token operator">^</span><span class="token number">5</span><span class="token punctuation">;</span>
sbit LCD1602_RS<span class="token operator">=</span>P2<span class="token operator">^</span><span class="token number">6</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**********************************
函数声明
**********************************/</span>
<span class="token comment" spellcheck="true">/*在51单片机12MHZ时钟下的延时函数*/</span>
<span class="token keyword">void</span> <span class="token function">Lcd1602_Delay1ms</span><span class="token punctuation">(</span>uint c<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//误差 0us</span>
<span class="token comment" spellcheck="true">/*LCD1602写入8位命令子函数*/</span>
<span class="token keyword">void</span> <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span>uchar com<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/*LCD1602写入8位数据子函数*/</span>    
<span class="token keyword">void</span> <span class="token function">LcdWriteData</span><span class="token punctuation">(</span>uchar dat<span class="token punctuation">)</span>    <span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/*LCD1602初始化子程序*/</span>        
<span class="token keyword">void</span> <span class="token function">LcdInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          

<span class="token macro property">#<span class="token directive keyword">endif</span></span>

</code></pre>
<p><strong>temp.h</strong></p>
<pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">ifndef</span> __TEMP_H_</span>
<span class="token macro property">#<span class="token directive keyword">define</span> __TEMP_H_</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"reg52.h"</span></span>

sbit DSPORT<span class="token operator">=</span>P3<span class="token operator">^</span><span class="token number">7</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">Delay1ms</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token function">Ds18b20Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">Ds18b20WriteByte</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span> com<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token function">Ds18b20ReadByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span>  <span class="token function">Ds18b20ChangTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span>  <span class="token function">Ds18b20ReadTempCom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">Ds18b20ReadTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">endif</span></span>
</code></pre>
<p><strong>temp.c</strong></p>
<pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">"temp.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"LCD.h"</span></span>
<span class="token comment" spellcheck="true">/*******************************************************************************
* 函数名         : Delay1ms
* 函数功能           : 延时函数
* 输入           : 无
* 输出              : 无
*******************************************************************************/</span>

<span class="token keyword">void</span> <span class="token function">Delay1ms</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>y<span class="token punctuation">;</span>y<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">;</span>y<span class="token operator">--</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">110</span><span class="token punctuation">;</span>x<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">;</span>x<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*******************************************************************************
* 函数名         : Ds18b20Init
* 函数功能           : 初始化
* 输入           : 无
* 输出              : 初始化成功返回1，失败返回0
*******************************************************************************/</span>

<span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token function">Ds18b20Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    DSPORT<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>             <span class="token comment" spellcheck="true">//将总线拉低480us~960us</span>
    i<span class="token operator">=</span><span class="token number">70</span><span class="token punctuation">;</span>    
    <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//延时642us</span>
    DSPORT<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//然后拉高总线，如果DS18B20做出反应会将在15us~60us后总线拉低</span>
    i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>DSPORT<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//等待DS18B20拉低总线</span>
    <span class="token punctuation">{</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">></span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//等待>5MS</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//初始化失败    </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//初始化成功</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/*******************************************************************************
* 函数名         : Ds18b20WriteByte
* 函数功能           : 向18B20写入一个字节
* 输入           : com
* 输出              : 无
*******************************************************************************/</span>

<span class="token keyword">void</span> <span class="token function">Ds18b20WriteByte</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span> dat<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        DSPORT<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//每写入一位数据之前先把总线拉低1us</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span>
        DSPORT<span class="token operator">=</span>dat<span class="token operator">&amp;</span><span class="token number">0x01</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//然后写入一个数据，从最低位开始</span>
        i<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//延时68us，持续时间最少60us</span>
        DSPORT<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//然后释放总线，至少1us给总线恢复时间才能接着写入第二个数值</span>
        dat<span class="token operator">>>=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*******************************************************************************
* 函数名         : Ds18b20ReadByte
* 函数功能           : 读取一个字节
* 输入           : com
* 输出              : 无
*******************************************************************************/</span>


<span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token function">Ds18b20ReadByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> byte<span class="token punctuation">,</span>bi<span class="token punctuation">;</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">;</span>    
    <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">;</span>j<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">--</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        DSPORT<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//先将总线拉低1us</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span>
        DSPORT<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//然后释放总线</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//延时6us等待数据稳定</span>
        bi<span class="token operator">=</span>DSPORT<span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//读取数据，从最低位开始读取</span>
        <span class="token comment" spellcheck="true">/*将byte左移一位，然后与上右移7位后的bi，注意移动之后移掉那位补0。*/</span>
        byte<span class="token operator">=</span><span class="token punctuation">(</span>byte<span class="token operator">>></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">(</span>bi<span class="token operator">&lt;&lt;</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          
        i<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//读取完之后等待48us再接着读取下一个数</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>                
    <span class="token keyword">return</span> byte<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*******************************************************************************
* 函数名         : Ds18b20ChangTemp
* 函数功能           : 让18b20开始转换温度
* 输入           : com
* 输出              : 无
*******************************************************************************/</span>

<span class="token keyword">void</span>  <span class="token function">Ds18b20ChangTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">Ds18b20Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Delay1ms</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Ds18b20WriteByte</span><span class="token punctuation">(</span><span class="token number">0xcc</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//跳过ROM操作命令         </span>
    <span class="token function">Ds18b20WriteByte</span><span class="token punctuation">(</span><span class="token number">0x44</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//温度转换命令</span>
<span class="token comment" spellcheck="true">//    Delay1ms(100);    //等待转换成功，而如果你是一直刷着的话，就不用这个延时了</span>

<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*******************************************************************************
* 函数名         : Ds18b20ReadTempCom
* 函数功能           : 发送读取温度命令
* 输入           : com
* 输出              : 无
*******************************************************************************/</span>

<span class="token keyword">void</span>  <span class="token function">Ds18b20ReadTempCom</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>    

    <span class="token function">Ds18b20Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//LcdWriteCom(0x80);</span>
    <span class="token function">LcdWriteCom</span><span class="token punctuation">(</span><span class="token number">0xC0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token function">Delay1ms</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">Ds18b20WriteByte</span><span class="token punctuation">(</span><span class="token number">0xcc</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//跳过ROM操作命令</span>
    <span class="token function">Ds18b20WriteByte</span><span class="token punctuation">(</span><span class="token number">0xbe</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//发送读取温度命令</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*******************************************************************************
* 函数名         : Ds18b20ReadTemp
* 函数功能           : 读取温度
* 输入           : com
* 输出              : 无
*******************************************************************************/</span>

<span class="token keyword">int</span> <span class="token function">Ds18b20ReadTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> temp<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> tmh<span class="token punctuation">,</span>tml<span class="token punctuation">;</span>
    <span class="token function">Ds18b20ChangTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">//先写入转换命令</span>
    <span class="token function">Ds18b20ReadTempCom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//然后等待转换完后发送读取温度命令</span>
    tml<span class="token operator">=</span><span class="token function">Ds18b20ReadByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//读取温度值共16位，先读低字节</span>
    tmh<span class="token operator">=</span><span class="token function">Ds18b20ReadByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//再读高字节</span>
    temp<span class="token operator">=</span>tmh<span class="token punctuation">;</span>
    temp<span class="token operator">&lt;&lt;=</span><span class="token number">8</span><span class="token punctuation">;</span>
    temp<span class="token operator">|</span><span class="token operator">=</span>tml<span class="token punctuation">;</span>
    <span class="token keyword">return</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="七、实物"><a href="#七、实物" class="headerlink" title="七、实物"></a>七、实物</h2><p><img src="https://s2.ax1x.com/2019/07/10/ZgDYQg.png" alt></p>
<p><img src="https://s2.ax1x.com/2019/07/10/ZgDtyQ.png" alt></p>
<p><img src="https://s2.ax1x.com/2019/07/10/ZgDDYV.png" alt></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/RoWe98/2019/07/10/单片机课设/" data-id="ck4jwhkqh001ivo4a2hkz29ae" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/单片机/">单片机</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-namepace_package" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/27/namepace_package/" class="article-date">
  <time datetime="2019-06-27T11:55:39.000Z" itemprop="datePublished">2019-06-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/27/namepace_package/">C#的namespace和Java的package</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="C-的namespace和Java的package"><a href="#C-的namespace和Java的package" class="headerlink" title="C#的namespace和Java的package"></a>C#的namespace和Java的package</h1><h2 id="Java中的package"><a href="#Java中的package" class="headerlink" title="Java中的package"></a>Java中的package</h2><p>在java中我们一般谈到package都知道这是java的包机，在java中为了方便类和类之间的管理我们引入了package用来解决这个问题，例如</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>test
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>在另一个包中的另一个类中我们要想访问类A我们需要借助<code>import</code>关键字</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> com<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>test<span class="token punctuation">.</span>A
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        A<span class="token punctuation">.</span><span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>当然为了访问其他包中的类我们需要<code>public</code>关键字，同样的为了直接调用方法我们需要关键字<code>static</code>声明静态方法。</p>
<h3 id="Java包的作用"><a href="#Java包的作用" class="headerlink" title="Java包的作用"></a>Java包的作用</h3><ul>
<li>1、把功能相似或相关的类或接口组织在同一个包中，方便类的查找和使用。</li>
<li>2、如同文件夹一样，包也采用了树形目录的存储方式。同一个包中的类名字是不同的，不同的包中的类的名字是可以相同的，当同时调用两个不同包中相同类名的类时，应该加上包名加以区别。因此，包可以避免名字冲突。</li>
<li>3、包也限定了访问权限，拥有包访问权限的类才能访问某个包中的类。</li>
</ul>
<p><strong>创建包时需要注意如下几点：</strong></p>
<p>（1）创建包时用package关键字；</p>
<p>（2）如果有包声明，包声明一定作为源代码的第一行；</p>
<p>（3）包的名称一般为小写，包名要有意义。例如：数学计算包名可以命名“math”，再如，绘图包可以命名“drawing”；</p>
<h2 id="C-中的namespace"><a href="#C-中的namespace" class="headerlink" title="C#中的namespace"></a>C#中的namespace</h2><h3 id="声明一个namespace-命名空间"><a href="#声明一个namespace-命名空间" class="headerlink" title="声明一个namespace(命名空间)"></a>声明一个namespace(命名空间)</h3><pre class=" language-c#"><code class="language-c#">namespace myApp
{
  public class Program
  {
    public static void Test()
  }
}
</code></pre>
<p>如上所示这样我们就可以在C#中声明一个命名空间</p>
<h3 id="Java的package和C-的namespace的最大区别"><a href="#Java的package和C-的namespace的最大区别" class="headerlink" title="Java的package和C#的namespace的最大区别"></a>Java的package和C#的namespace的最大区别</h3><ul>
<li>namespace是可以嵌套的</li>
</ul>
<pre class=" language-c#"><code class="language-c#">namespace A
{
  namespace B
  {
    namespace C
    {

    }
  }
}
</code></pre>
<p><strong>测试</strong></p>
<ul>
<li>新建一个文件Program.cs</li>
</ul>
<pre class=" language-c#"><code class="language-c#">using System;

namespace myApp
{
    namespace Test{
        class Program2
        {
            public static void Test1()
            {
                Console.WriteLine("This is namespace Test, Class Program2, Method Test1");
            }
        }
    }
    public class Program
    {   
        public static void Test3()
        {
            Console.WriteLine("Now using namespace myApp Class Program");
        }
    }
}

</code></pre>
<p><strong>如上所示我们有两个命名空间分别是myApp和Test</strong></p>
<ul>
<li>新建一个文件Program2.cs</li>
</ul>
<pre class=" language-c#"><code class="language-c#">using myApp;
using System;

namespace myApp2
{
    class Program3
    {
        public static void Test2()
        {
            Program.Test3();
        }

        public static void Test3()
        {
            myApp.Test.Program2.Test1();
        }

        static void Main(String[] args)
        {
            Test2();
            Test3();
        }
    }
}

</code></pre>
<p><strong>和java一样我们需要导入我们的命名空间这里我们使用<code>using</code>关键字 例如:<code>using myApp</code></strong></p>
<ul>
<li>这里新建了一个命名空间<strong>myApp2</strong></li>
<li>新建了两个方法<strong>Test2</strong>、<strong>Test3</strong></li>
<li><strong>Test2</strong>方法调用<strong>myApp</strong>命名空间中的<strong>Program</strong>类</li>
<li><strong>Test3</strong>方法调用<strong>myApp</strong>命名空间的子命名空间<strong>Test</strong>中的<strong>Program1</strong>类的<strong>Test1</strong>方法</li>
</ul>
<p><strong>输出</strong></p>
<pre class=" language-bash"><code class="language-bash">已加载“/usr/local/share/dotnet/shared/Microsoft.NETCore.App/2.2.5/System.Private.CoreLib.dll”。已跳过加载符号。模块进行了优化，并且调试器选项“仅我的代码”已启用。
已加载“/Users/rex/Desktop/Code/dotnet/myApp/bin/Debug/netcoreapp2.2/myApp.dll”。已加载符号。
已加载“/usr/local/share/dotnet/shared/Microsoft.NETCore.App/2.2.5/System.Runtime.dll”。模块已生成，不包含符号。
已加载“/usr/local/share/dotnet/shared/Microsoft.NETCore.App/2.2.5/System.Console.dll”。已跳过加载符号。模块进行了优化，并且调试器选项“仅我的代码”已启用。
已加载“/usr/local/share/dotnet/shared/Microsoft.NETCore.App/2.2.5/System.Threading.dll”。模块已生成，不包含符号。
已加载“/usr/local/share/dotnet/shared/Microsoft.NETCore.App/2.2.5/System.Runtime.Extensions.dll”。模块已生成，不包含符号。
Now using namespace myApp Class Program
This is namespace Test, Class Program2, Method Test1
程序“<span class="token punctuation">[</span>41008<span class="token punctuation">]</span> myApp.dll”已退出，代码为 0 <span class="token punctuation">(</span>0x0<span class="token punctuation">)</span>。
</code></pre>
<p><strong>如上所示我们已经完成的调用</strong></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>Java的package和C#的namespace都是为了更方便的管理类</li>
<li>C#的namespace支持子namespace</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/RoWe98/2019/06/27/namepace_package/" data-id="ck4jwhkq80013vo4a1oa1f251" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-OpenCV 人脸识别算法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/18/OpenCV 人脸识别算法/" class="article-date">
  <time datetime="2019-06-18T07:26:39.000Z" itemprop="datePublished">2019-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/18/OpenCV 人脸识别算法/">人脸识别算法(Python)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="人脸识别算法-Python"><a href="#人脸识别算法-Python" class="headerlink" title="人脸识别算法(Python)"></a>人脸识别算法(Python)</h1><h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p><strong>学习OpenCV 很久了，正好这段时间在学习机器学习，课程刚好讲到人脸识别</strong></p>
<p>课程连接如下</p>
<p><a href="https://www.bilibili.com/video/av54618101" target="_blank" rel="noopener">TensorFlow快速入门与实战</a></p>
<p>在其中的一课中讲到了OpenCV的人脸识别算法</p>
<p><strong>人脸识别的方法不止有OpenCV调用自带的训练样本集，本文提到的方法有两种</strong></p>
<ul>
<li>OpenCV人脸识别</li>
<li>face-recognition库</li>
</ul>
<h2 id="算法介绍-OpenCV"><a href="#算法介绍-OpenCV" class="headerlink" title="算法介绍(OpenCV)"></a>算法介绍(OpenCV)</h2><p><strong>这里使用到了OpenCV的一个人脸训练样本集,点击下面的超链接即可下载</strong></p>
<p><a href="http://qiniusave.luoshaoqi.cn/haarcascade_frontalface_default.xml" target="_blank" rel="noopener">haarcascade_frontalface_default.xml</a></p>
<p>这个训练集是OpenCV为我们提供的已经通过机器学习训练好的一个样本集，当然你也可以去OpenCV的GitHub主页去查看其它的训练样本集</p>
<p><a href="https://github.com/opencv/opencv">OpenCV</a></p>
<p>为了方便日后学习，本人还是建议大家将项目clone下载可以日后查看代码。</p>
<h2 id="OpenCV人脸识别算法逻辑"><a href="#OpenCV人脸识别算法逻辑" class="headerlink" title="OpenCV人脸识别算法逻辑"></a>OpenCV人脸识别算法逻辑</h2><ul>
<li>读取图片</li>
<li>读取样本集</li>
<li>调用OpenCV识别人脸</li>
<li>使用rectangle方法绘制人脸</li>
</ul>
<h2 id="代码实现-OpenCV"><a href="#代码实现-OpenCV" class="headerlink" title="代码实现(OpenCV)"></a>代码实现(OpenCV)</h2><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span>

<span class="token keyword">import</span> cv2
<span class="token keyword">import</span> sys

<span class="token comment" spellcheck="true"># Get user supplied values</span>
imagePath <span class="token operator">=</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
cascPath <span class="token operator">=</span> <span class="token string">"haarcascade_frontalface_default.xml"</span>

<span class="token comment" spellcheck="true"># Create the haar cascade</span>
faceCascade <span class="token operator">=</span> cv2<span class="token punctuation">.</span>CascadeClassifier<span class="token punctuation">(</span>cascPath<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># Read the image</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>imagePath<span class="token punctuation">)</span>
gray <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>image<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2GRAY<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># Detect faces in image</span>
faces <span class="token operator">=</span> faceCascade<span class="token punctuation">.</span>detectMultiScale<span class="token punctuation">(</span>
    gray<span class="token punctuation">,</span>
    scaleFactor<span class="token operator">=</span><span class="token number">1.1</span><span class="token punctuation">,</span>
    minNeighbors<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>
    minSize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Found {0} Faces! in the Picture"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>len<span class="token punctuation">(</span>faces<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># Draw a rectangle around the faces</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span> <span class="token keyword">in</span> faces<span class="token punctuation">:</span>
    cv2<span class="token punctuation">.</span>rectangle<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token operator">+</span>w<span class="token punctuation">,</span>y<span class="token operator">+</span>w<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>

cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"Faces found"</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>image<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">,</span><span class="token number">768</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="输出情况"><a href="#输出情况" class="headerlink" title="输出情况"></a>输出情况</h2><h3 id="处理输出情况"><a href="#处理输出情况" class="headerlink" title="处理输出情况"></a>处理输出情况</h3><p><a href="https://imgchr.com/i/VqyHJJ" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/18/VqyHJJ.md.png" alt></a></p>
<h3 id="终端输出情况"><a href="#终端输出情况" class="headerlink" title="终端输出情况"></a>终端输出情况</h3><pre class=" language-bash"><code class="language-bash">rex@RexMacBookPro:PythonCode/FaceDetect ‹master*›$ python3 FaceDetect_Front.py /Users/rex/Desktop/乱七八糟图片/test2.jpg
Found 7 Faces<span class="token operator">!</span> <span class="token keyword">in</span> the Picture
</code></pre>
<h2 id="算法介绍-face-recognition库"><a href="#算法介绍-face-recognition库" class="headerlink" title="算法介绍(face-recognition库)"></a>算法介绍(face-recognition库)</h2><p><strong>face_recognition使用世界上最简单的人脸识别工具，在Python或命令行中识别和操作人脸。使用dlib最先进的人脸识别技术构建而成，并具有深度学习功能。 该模型在<a href="http://vis-www.cs.umass.edu/lfw/" target="_blank" rel="noopener">Labeled Faces in the Wild</a>基准中的准确率为99.38％。</strong></p>
<h3 id="face-recognition安装"><a href="#face-recognition安装" class="headerlink" title="face_recognition安装"></a>face_recognition安装</h3><ul>
<li><code>pip3 install face_recognition</code></li>
</ul>
<p><strong>注意！安装之前请安装make</strong> <code>`</code></p>
<ul>
<li>Ubuntu <code>sudo apt-get install make</code></li>
<li>Centos <code>sudo yum install make</code></li>
<li>MaxOS X <code>sudo brew install make</code></li>
</ul>
<p><strong>安装完成之后打开Python终端输入</strong><code>import face_recognition</code></p>
<p><img src="https://s2.ax1x.com/2019/06/18/VqgVIS.png" alt></p>
<p>若没有报错则说明安装face_recognition成功</p>
<p><strong>face_recognition学习</strong></p>
<p><a href="https://www.baidu.com/link?url=k6yEWlP9U9nd8eCASeJFSrSVl6nYvy4vKj473sNkADEYcuv3i6o-hqM46Kadi-FR&amp;wd=&amp;eqid=c7a1224f000387c3000000065d088dec" target="_blank" rel="noopener">face_recognition</a></p>
<h2 id="face-recognition库人脸识别算逻辑"><a href="#face-recognition库人脸识别算逻辑" class="headerlink" title="face_recognition库人脸识别算逻辑"></a>face_recognition库人脸识别算逻辑</h2><ul>
<li>读取图片</li>
<li>使用face_recognition读取图片</li>
<li>调用face_recognition的face_locations方法定位人脸</li>
<li>调用OpenCV的rectangle方法绘制人脸框</li>
<li>显示处理结果</li>
</ul>
<h2 id="代码实现-face-recognition库"><a href="#代码实现-face-recognition库" class="headerlink" title="代码实现(face_recognition库)"></a>代码实现(face_recognition库)</h2><pre class=" language-python"><code class="language-python">
<span class="token keyword">import</span> cv2
<span class="token keyword">import</span> sys

<span class="token keyword">import</span> face_recognition

<span class="token comment" spellcheck="true"># Get user supplied values</span>
imagePath <span class="token operator">=</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

<span class="token comment" spellcheck="true"># Load the image from face_recognition</span>
image <span class="token operator">=</span> face_recognition<span class="token punctuation">.</span>load_image_file<span class="token punctuation">(</span>imagePath<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># Detect faces in image</span>

face_loaction <span class="token operator">=</span> face_recognition<span class="token punctuation">.</span>face_locations<span class="token punctuation">(</span>image<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Found {0} Faces!"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>len<span class="token punctuation">(</span>face_loaction<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># Read the image with openCV</span>

image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>imagePath<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># Draw a rectangle around the faces</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>top<span class="token punctuation">,</span> right<span class="token punctuation">,</span> bottom<span class="token punctuation">,</span> left<span class="token punctuation">)</span> <span class="token keyword">in</span> face_loaction<span class="token punctuation">:</span>
    cv2<span class="token punctuation">.</span>rectangle<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span>left<span class="token punctuation">,</span> top<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>right<span class="token punctuation">,</span> bottom<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>

cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"Faces found"</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>image<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">,</span><span class="token number">768</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="输出情况-1"><a href="#输出情况-1" class="headerlink" title="输出情况"></a>输出情况</h2><h3 id="处理输出情况-1"><a href="#处理输出情况-1" class="headerlink" title="处理输出情况"></a>处理输出情况</h3><p><a href="https://imgchr.com/i/Vq4mGT" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/18/Vq4mGT.md.png" alt></a></p>
<h3 id="终端输出情况-1"><a href="#终端输出情况-1" class="headerlink" title="终端输出情况"></a>终端输出情况</h3><pre class=" language-bash"><code class="language-bash">rex@RexMacBookPro:PythonCode/FaceDetect ‹master*›$ python3 FaceDetect_face_recognition.py /Users/rex/Desktop/乱七八糟图片/test2.jpg 
Found 7 Faces<span class="token operator">!</span>
</code></pre>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/RoWe98/2019/06/18/OpenCV 人脸识别算法/" data-id="ck4jwhkpk000dvo4aekxrdcb1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/人脸识别/">人脸识别</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/机器学习/">机器学习</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-五子棋" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/16/五子棋/" class="article-date">
  <time datetime="2019-06-16T12:45:00.000Z" itemprop="datePublished">2019-06-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/16/五子棋/">从头开始编写一个五子棋的博弈游戏(Java)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="从头开始编写一个五子棋的博弈游戏-Java"><a href="#从头开始编写一个五子棋的博弈游戏-Java" class="headerlink" title="从头开始编写一个五子棋的博弈游戏(Java)"></a>从头开始编写一个五子棋的博弈游戏(Java)</h1><h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>这几天在上人工智能，老师让我们在实验环节做一个博弈类型的游戏，这里老师提示我们可以做一个五子棋的软件，于是我尝试开始自己编写一个五子棋的Java小游戏。</p>
<h2 id="设计棋盘"><a href="#设计棋盘" class="headerlink" title="设计棋盘"></a>设计棋盘</h2><p>首先我们先绘制一个面板，我希望上面的功能有：开始游戏、悔棋、模式选择、认输的功能。</p>
<p>利用Swing设计面板代码如下：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

        JFrame jf<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">JFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">"五子棋"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">650</span><span class="token punctuation">,</span> <span class="token number">580</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//先设大小，再设居中;</span>
        jf<span class="token punctuation">.</span><span class="token function">setLocationRelativeTo</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">setResizable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        JPanel eastp<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">JPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        eastp<span class="token punctuation">.</span><span class="token function">setPreferredSize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dimension</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        JButton buttonStart<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">"开始游戏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        JButton buttonregret<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">"悔棋"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        JButton buttonlose<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">"认输"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String<span class="token punctuation">[</span><span class="token punctuation">]</span> itemArray <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">"人人对战"</span><span class="token punctuation">,</span> <span class="token string">"人机对战"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        JComboBox<span class="token operator">&lt;</span>String<span class="token operator">></span> cbItem <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JComboBox</span><span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span>itemArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
        buttonStart<span class="token punctuation">.</span><span class="token function">setPreferredSize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dimension</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        buttonregret<span class="token punctuation">.</span><span class="token function">setPreferredSize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dimension</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        buttonlose<span class="token punctuation">.</span><span class="token function">setPreferredSize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dimension</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cbItem<span class="token punctuation">.</span><span class="token function">setPreferredSize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dimension</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        eastp<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>buttonStart<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eastp<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>buttonregret<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eastp<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>buttonlose<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eastp<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cbItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>eastp<span class="token punctuation">,</span>BorderLayout<span class="token punctuation">.</span>EAST<span class="token punctuation">)</span><span class="token punctuation">;</span>

        jf<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre>
<p>有了面板还不够 这里我们还需要自己绘制棋盘</p>
<p>这里我们采用的方法是重写Swing的paint方法这样每次程序运行是都会执行paint方法</p>
<p>代码如下：</p>
<pre class=" language-java"><code class="language-java">        <span class="token comment" spellcheck="true">// 绘制棋盘</span>
    <span class="token comment" spellcheck="true">// 重写JPanel的paint方法</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">paint</span><span class="token punctuation">(</span>Graphics g<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 这里由于每次新建JPanel的时候都会调用paint方法我们这里自己重写paint方法</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">paint</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">15</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            g<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token operator">+</span> <span class="token number">35</span> <span class="token operator">*</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 横线</span>
            g<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token number">30</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token operator">+</span> <span class="token number">35</span> <span class="token operator">*</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 竖线</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
</code></pre>
<p>我们运行一个程序试试结果：</p>
<p><img src="https://s2.ax1x.com/2019/06/06/VagQVP.png" alt></p>
<p>如图所示已经成功完成了面板和按钮的绘制</p>
<h2 id="画出棋子"><a href="#画出棋子" class="headerlink" title="画出棋子"></a>画出棋子</h2><p>上一步我们已经可以画出棋盘，这里我们对paint方法扩充一下，可以这样来绘制棋子</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//重写重绘方法,这里重写的是第一个大的JPanel的方法</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">paint</span><span class="token punctuation">(</span>Graphics g<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">paint</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//画出白框</span>

        <span class="token comment" spellcheck="true">//重绘出棋盘</span>
        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>black<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>row<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            g<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token operator">+</span>size<span class="token operator">*</span>i<span class="token punctuation">,</span> x<span class="token operator">+</span>size<span class="token operator">*</span><span class="token punctuation">(</span>column<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token operator">+</span>size<span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>column<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            g<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>x<span class="token operator">+</span>size<span class="token operator">*</span>j<span class="token punctuation">,</span> y<span class="token punctuation">,</span> x<span class="token operator">+</span>size<span class="token operator">*</span>j<span class="token punctuation">,</span> y<span class="token operator">+</span>size<span class="token operator">*</span><span class="token punctuation">(</span>row<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment" spellcheck="true">//重绘出棋子</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>row<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>column<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">int</span> countx<span class="token operator">=</span>size<span class="token operator">*</span>j<span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">;</span>
                    <span class="token keyword">int</span> county<span class="token operator">=</span>size<span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">;</span>
                    g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>black<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    g<span class="token punctuation">.</span><span class="token function">fillOval</span><span class="token punctuation">(</span>countx<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> county<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">int</span> countx<span class="token operator">=</span>size<span class="token operator">*</span>j<span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">;</span>
                    <span class="token keyword">int</span> county<span class="token operator">=</span>size<span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">;</span>
                    g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    g<span class="token punctuation">.</span><span class="token function">fillOval</span><span class="token punctuation">(</span>countx<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> county<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre>
<h2 id="按钮监听"><a href="#按钮监听" class="headerlink" title="按钮监听"></a>按钮监听</h2><p><strong>已经可以成功实现一个棋盘了 我们接下来主要来编写键盘的监听方法和其他工具类</strong><br>如上面所示我们在我们键盘的右边新增了几个按钮 接下来我自己又对按钮进行了一些更改如下所示：</p>
<p><a href="https://imgchr.com/i/V5vPDH" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/15/V5vPDH.md.png" alt></a></p>
<p>在上面的基础上我自己重新 更改了一些按钮 添加了作者信息显示 游戏说明的按钮</p>
<h3 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h3><p>键盘的监听实现起来很简单，方法如下：</p>
<ul>
<li>实例化一个ActionEvent 对象来管理按键</li>
<li>通过e.getActionCommand()来判断按下了哪个按钮</li>
<li>分别实现新游戏、放弃、说明等功能</li>
</ul>
<p><strong>部分代码如下:</strong></p>
<pre class=" language-java"><code class="language-java">
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">actionPerformed</span><span class="token punctuation">(</span>ActionEvent e<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment" spellcheck="true">//必须得用else if，因为如果没有else if你每次在右边的界面点击时它都会获取人人对战或者人机对战的                    信息，每次都会重置棋盘数组</span>
        <span class="token comment" spellcheck="true">//获取当前被点击按钮的内容，判断是不是"开始新游戏"这个按钮</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getActionCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"新游戏"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//重绘棋盘</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
                    gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            gf<span class="token punctuation">.</span><span class="token function">repaint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//如果是开始新游戏的按钮，再为左半部分设置监听方法</span>
            gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
               <span class="token comment" spellcheck="true">// forkme github关注</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getActionCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"我的github"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>Desktop<span class="token punctuation">.</span><span class="token function">isDesktopSupported</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">//创建一个URI实例</span>
                    java<span class="token punctuation">.</span>net<span class="token punctuation">.</span>URI uri <span class="token operator">=</span> java<span class="token punctuation">.</span>net<span class="token punctuation">.</span>URI<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">"https://github.com/RoWe98"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">//获取当前系统桌面扩展</span>
                    java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>Desktop dp <span class="token operator">=</span> java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>Desktop<span class="token punctuation">.</span><span class="token function">getDesktop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">//判断系统桌面是否支持要执行的功能</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>dp<span class="token punctuation">.</span><span class="token function">isSupported</span><span class="token punctuation">(</span>java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>Desktop<span class="token punctuation">.</span>Action<span class="token punctuation">.</span>BROWSE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">//获取系统默认浏览器打开链接</span>
                        dp<span class="token punctuation">.</span><span class="token function">browse</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">//此为无法获取系统默认浏览器</span>
                    error<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment" spellcheck="true">// 按下readme 游戏说明</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getActionCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"说明"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            String readme <span class="token operator">=</span> <span class="token string">"1.选择一个游戏模式：人人或人机"</span><span class="token operator">+</span><span class="token string">"\n"</span> <span class="token operator">+</span>
                <span class="token string">"2.开始新游戏"</span><span class="token operator">+</span><span class="token string">"\n"</span><span class="token operator">+</span><span class="token string">"3.Enjoy!"</span><span class="token punctuation">;</span>
            JOptionPane<span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span>null<span class="token punctuation">,</span>readme<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getActionCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"放弃"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>turn<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                JOptionPane<span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span>null<span class="token punctuation">,</span> <span class="token string">"白方胜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方胜!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> JOptionPane<span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span>null<span class="token punctuation">,</span> <span class="token string">"黑方胜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//重新把棋盘设置为不可操作</span>
            gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span><span class="token function">getSelectedItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"人机"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            gf<span class="token punctuation">.</span>ChooseType<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
            gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span><span class="token function">getSelectedItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"人人"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            gf<span class="token punctuation">.</span>ChooseType<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre>
<h2 id="棋盘信息以及棋子信息存储以及设定"><a href="#棋盘信息以及棋子信息存储以及设定" class="headerlink" title="棋盘信息以及棋子信息存储以及设定"></a>棋盘信息以及棋子信息存储以及设定</h2><h3 id="棋子坐标信息"><a href="#棋子坐标信息" class="headerlink" title="棋子坐标信息"></a>棋子坐标信息</h3><p><strong>首先我们来思考一个问题：如何存储当前棋子在棋盘上的坐标？</strong></p>
<p>答：建立一个Bean来存储当前棋子的坐标信息</p>
<p>我相信大部分人都会这么想，当然我们这里也是可以这么实现这个功能的</p>
<p>如下所示，我们建立一个类来存放我们棋子的坐标</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//新建一个棋子类ChessPosition保存每一步棋子所在的位置</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChessPosition</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> Listi<span class="token punctuation">,</span>Listj<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">ChessPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">ChessPosition</span><span class="token punctuation">(</span><span class="token keyword">int</span> Listi<span class="token punctuation">,</span><span class="token keyword">int</span> Listj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>Listi<span class="token operator">=</span>Listi<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>Listj<span class="token operator">=</span>Listj<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<p>通过这个类 就可以让我们来保存每一步棋子的位置 信息</p>
<h3 id="棋盘信息设定"><a href="#棋盘信息设定" class="headerlink" title="棋盘信息设定"></a>棋盘信息设定</h3><p>同样的问题，我们如何设定棋盘的信息 比如棋盘大小为15*15 ，格子大小，棋盘的起点坐标</p>
<p>这里我们可以使用Java中一个特别好用的东西，那就是接口，我们完全可以定义一个接口保存我们定义的信息，在之后的类中调用我们棋盘信息的时候只需要implement接口即可</p>
<p>接口定义如下所示：</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//定义与棋盘数据相关的接口，保存棋盘的起点，格子大小，行数列数等信息</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">GoBangconfig</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span>row<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span>column<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>如图我们已经设置了按键监听所以我们在主方法中为按钮添加监听</strong></p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//按钮监控类</span>
ButtonListener butListen<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ButtonListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>box<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//对每一个按钮都添加状态事件的监听处理机制</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>butname<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    button<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>butListen<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//添加发生操作的监听方法</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">//对可选框添加事件监听机制</span>
    box<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>butListen<span class="token punctuation">)</span><span class="token punctuation">;</span>

    FrameListener fl<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">FrameListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fl<span class="token punctuation">.</span><span class="token function">setGraphics</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取画笔对象</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addMouseListener</span><span class="token punctuation">(</span>fl<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="承上启下"><a href="#承上启下" class="headerlink" title="承上启下"></a>承上启下</h2><p>这一步目前是这么想的，我们准备编写具体的方法来判断棋子落子的情况</p>
<p>人机博弈算法来编写五子棋目前市面上主流的算法有</p>
<ul>
<li>权值法</li>
<li>α-β剪枝法</li>
<li>博弈树法</li>
</ul>
<p>这里我选用了权值法</p>
<h2 id="权值法"><a href="#权值法" class="headerlink" title="权值法"></a>权值法</h2><p>权值法就是检测棋盘八个方向</p>
<ul>
<li>上、下、左、右、左上、右上、左下、右下</li>
</ul>
<p><img src="https://s2.ax1x.com/2019/06/16/VoqrwR.jpg" alt></p>
<p><strong>权值法设置了一系列权值 就像这样</strong></p>
<table>
<thead>
<tr>
<th>情况</th>
<th>权值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td>17</td>
<td>眠1连</td>
</tr>
<tr>
<td>02</td>
<td>12</td>
<td>眠1连</td>
</tr>
<tr>
<td>001</td>
<td>17</td>
<td>眠1连</td>
</tr>
<tr>
<td>002</td>
<td>12</td>
<td>眠1连</td>
</tr>
<tr>
<td>0001</td>
<td>17</td>
<td>眠1连</td>
</tr>
<tr>
<td>0002</td>
<td>12</td>
<td>眠1连</td>
</tr>
<tr>
<td>0102</td>
<td>17</td>
<td>眠1连</td>
</tr>
<tr>
<td>0201</td>
<td>12</td>
<td>眠1连</td>
</tr>
<tr>
<td>0012</td>
<td>15</td>
<td>眠1连</td>
</tr>
<tr>
<td>0021</td>
<td>10</td>
<td>眠1连</td>
</tr>
<tr>
<td>01002</td>
<td>19</td>
<td>眠1连</td>
</tr>
<tr>
<td>02001</td>
<td>14</td>
<td>眠1连</td>
</tr>
<tr>
<td>00102</td>
<td>17</td>
<td>眠1连</td>
</tr>
<tr>
<td>00201</td>
<td>12</td>
<td>眠1连</td>
</tr>
<tr>
<td>00012</td>
<td>15</td>
<td>眠1连</td>
</tr>
<tr>
<td>00021</td>
<td>10</td>
<td>眠1连</td>
</tr>
<tr>
<td>01000</td>
<td>21</td>
<td>活1连</td>
</tr>
<tr>
<td>02000</td>
<td>16</td>
<td>活1连</td>
</tr>
<tr>
<td>00100</td>
<td>19</td>
<td>活1连</td>
</tr>
<tr>
<td>00200</td>
<td>14</td>
<td>活1连</td>
</tr>
<tr>
<td>00010</td>
<td>17</td>
<td>活1连</td>
</tr>
<tr>
<td>00020</td>
<td>12</td>
<td>活1连</td>
</tr>
<tr>
<td>00001</td>
<td>15</td>
<td>活1连</td>
</tr>
<tr>
<td>00002</td>
<td>10</td>
<td>活1连</td>
</tr>
<tr>
<td>0101</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>0202</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>0110</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>0220</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>011</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>022</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>0011</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>0022</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>01012</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>02021</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>01102</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>02201</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>00112</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>00221</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>01010</td>
<td>75</td>
<td>活2连</td>
</tr>
<tr>
<td>02020</td>
<td>70</td>
<td>活2连</td>
</tr>
<tr>
<td>01100</td>
<td>75</td>
<td>活2连</td>
</tr>
<tr>
<td>02200</td>
<td>70</td>
<td>活2连</td>
</tr>
<tr>
<td>00110</td>
<td>75</td>
<td>活2连</td>
</tr>
<tr>
<td>00220</td>
<td>70</td>
<td>活2连</td>
</tr>
<tr>
<td>00011</td>
<td>75</td>
<td>活2连</td>
</tr>
<tr>
<td>00022</td>
<td>70</td>
<td>活2连</td>
</tr>
<tr>
<td>0111</td>
<td>150</td>
<td>眠3连</td>
</tr>
<tr>
<td>0222</td>
<td>140</td>
<td>眠3连</td>
</tr>
<tr>
<td>01112</td>
<td>150</td>
<td>眠3连</td>
</tr>
<tr>
<td>02221</td>
<td>140</td>
<td>眠3连</td>
</tr>
<tr>
<td>01101</td>
<td>1000</td>
<td>活3连</td>
</tr>
<tr>
<td>02202</td>
<td>800</td>
<td>活3连</td>
</tr>
<tr>
<td>01011</td>
<td>1000</td>
<td>活3连</td>
</tr>
<tr>
<td>02022</td>
<td>800</td>
<td>活3连</td>
</tr>
<tr>
<td>01110</td>
<td>1000</td>
<td>活3连</td>
</tr>
<tr>
<td>02220</td>
<td>800</td>
<td>活3连</td>
</tr>
<tr>
<td>01111</td>
<td>3000</td>
<td>4连</td>
</tr>
<tr>
<td>02222</td>
<td>3500</td>
<td>4连</td>
</tr>
</tbody>
</table>
<p><strong>说明</strong></p>
<ul>
<li>0为空位</li>
<li>1为黑棋</li>
<li>2为白棋</li>
<li>类似01022这种什么意思？</li>
</ul>
<p><img src="https://s2.ax1x.com/2019/06/16/VoL3cD.jpg" alt></p>
<p><strong>如图所示</strong></p>
<ul>
<li>从左到右分别为白-黑-白</li>
<li>且左右两边都为空</li>
<li>所以用012表示为02120即空-白-黑-白-空</li>
</ul>
<h2 id="实现权值法"><a href="#实现权值法" class="headerlink" title="实现权值法"></a>实现权值法</h2><p><strong>所以为了表示这些情况我们使用HashMap在存储对应的情况和权值</strong></p>
<p>代码如下所示</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> HashMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Integer<span class="token operator">></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Integer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//设置不同落子情况和相应权值的数组</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//被堵住</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01"</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"001"</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"002"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0001"</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0002"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0102"</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0201"</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0012"</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0021"</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01002"</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02001"</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00102"</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00201"</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00012"</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00021"</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，10</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01000"</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02000"</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00100"</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00200"</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00010"</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00020"</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00001"</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00002"</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，10</span>

        <span class="token comment" spellcheck="true">//被堵住</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0101"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0202"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0110"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0220"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"011"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"022"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0011"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0022"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01012"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02021"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01102"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02201"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00112"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00221"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01010"</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02020"</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01100"</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02200"</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00110"</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00220"</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00011"</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00022"</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，30</span>

        <span class="token comment" spellcheck="true">//被堵住</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0111"</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠3连，100</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0222"</span><span class="token punctuation">,</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠3连，80</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01112"</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠3连，100</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02221"</span><span class="token punctuation">,</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠3连，80</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01101"</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活3连，130</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02202"</span><span class="token punctuation">,</span><span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活3连，110</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01011"</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活3连，130</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02022"</span><span class="token punctuation">,</span><span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活3连，110</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01110"</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活3连</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02220"</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活3连</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01111"</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//4连，300</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02222"</span><span class="token punctuation">,</span><span class="token number">3500</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//4连，280</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weightArray<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span>column<span class="token punctuation">]</span><span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//定义一个二维数组，保存各个点的权值</span>
</code></pre>
<p>如上所示我们设置不同落子情况和相应权值保存到HashMap中，并且定义一个二维数组，保存各个点的权值</p>
<p><strong>其中0表示空位，1表示黑棋子，2表示白棋子。当然上面只是一个示例，实际情况比这个多得多。</strong></p>
<p><strong>权值如何给定？</strong></p>
<ul>
<li>A.随着相连的棋子数增加，它的权值要相应地增加；</li>
<li>B.相同的相连棋子数，活连的权值要比眠连要大；</li>
<li>C.人执黑，AI 执白。如果相同的相连情况，黑子的权值大于白子，那么AI就偏防守；如果黑子的权值小于白子，那么AI偏进攻。由于黑子先手，一般可以使用黑子的权值大于白子，让AI进行后手防守。（我这里用的、AI用的就是偏防守）。</li>
</ul>
<p><strong>细节：</strong></p>
<ul>
<li>A.比如当出现某个空位出现了4连，那么这个时候不管其他位置情况如何，我们都必须先下这个位置，因此4连的权值要比3连大得多，保证它一定能够最先被选择。</li>
<li>B.如果出现了权值相同的位置怎么办？我们这里默认选择第一个位置。</li>
</ul>
<h2 id="权值判断"><a href="#权值判断" class="headerlink" title="权值判断"></a>权值判断</h2><p>这里我们需要编写一个方法来判断没有棋子的地方的权值，好让棋子可以根据权值来找到合适的位置来落子</p>
<p>当然我们需要分两个情况：</p>
<ul>
<li>人人</li>
<li>人机<br>在人人的情况下我们就不需要判断权值，人机的情况下我们把权值判断交给电脑来判断权值，从而落子</li>
</ul>
<h3 id="具体算法设计"><a href="#具体算法设计" class="headerlink" title="具体算法设计"></a>具体算法设计</h3><ul>
<li><p>人下棋后先判断输赢，如果赢了则游戏结束，否则就进入AI算法</p>
</li>
<li><p>AI算法要做的事情就是遍历棋盘的每一个空位置，根据当前棋盘的棋子数组，来确定与该空位相关的棋子相连情况。然后和在Haspmap中进行匹配搜索，找到相应的权值，把这个权值加到当前位置。</p>
</li>
<li><p>遍历权值数组，选择最大的权值，找到相应位置落子</p>
</li>
<li><p>判断输赢，如果赢了则游戏结束，否则回到人下棋。</p>
</li>
</ul>
<p><strong>代码实现</strong></p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">mouseClicked</span><span class="token punctuation">(</span>java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span>MouseEvent e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> x<span class="token operator">=</span>e<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> y<span class="token operator">=</span>e<span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//计算棋子要落在棋盘的哪个交叉点上</span>
        <span class="token keyword">int</span> countx<span class="token operator">=</span><span class="token punctuation">(</span>x<span class="token operator">/</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">40</span><span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> county<span class="token operator">=</span><span class="token punctuation">(</span>y<span class="token operator">/</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">40</span><span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">;</span>
        Graphics g<span class="token operator">=</span>gf<span class="token punctuation">.</span><span class="token function">getGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//计算棋盘上棋子在数组中相应的位置</span>
        <span class="token keyword">int</span> Arrayj<span class="token operator">=</span><span class="token punctuation">(</span>countx<span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">40</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> Arrayi<span class="token operator">=</span><span class="token punctuation">(</span>county<span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">40</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>turn<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//判断是否可以进行游戏</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"此处已经有棋子了，请下在其它地方"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">//选择人人对战</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>ChooseType<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>turn<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token comment" spellcheck="true">//先获取要落的地方</span>
                        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>black<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//落子</span>
                        g<span class="token punctuation">.</span><span class="token function">fillOval</span><span class="token punctuation">(</span>countx<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> county<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//设置当前位置已经有棋子了,棋子为黑子</span>
                        gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//把当前所下的棋子位置保存在动态数组中</span>
                        gf<span class="token punctuation">.</span>ChessPositonList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChessPosition</span><span class="token punctuation">(</span>Arrayi<span class="token punctuation">,</span>Arrayj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        gf<span class="token punctuation">.</span>turn<span class="token operator">++</span><span class="token punctuation">;</span>

                        <span class="token comment" spellcheck="true">//判断是否已经出现五科棋子了</span>
                        <span class="token comment" spellcheck="true">//列判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> imin<span class="token operator">=</span>Arrayi<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>imax<span class="token operator">=</span>Arrayi<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>imin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> imin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>imax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> imax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>imin<span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>imax<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count1<span class="token operator">++</span><span class="token punctuation">;</span>
                                <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                            <span class="token keyword">else</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count1<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//行判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> jmin<span class="token operator">=</span>Arrayj<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>jmax<span class="token operator">=</span>Arrayj<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>jmin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> jmin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>jmax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> jmax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>jmin<span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>jmax<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count2<span class="token operator">++</span><span class="token punctuation">;</span>
                            <span class="token keyword">else</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count2<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                            <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>

                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//135度判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count3<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count3<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token keyword">int</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">-</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">-</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token comment" spellcheck="true">//System.out.print("count4:"+count4);</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token operator">-</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count4<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count4<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>turn<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        g<span class="token punctuation">.</span><span class="token function">fillOval</span><span class="token punctuation">(</span>countx<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> county<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//设置当前位置已经有棋子了，棋子为白子</span>
                        gf<span class="token punctuation">.</span>ChessPositonList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChessPosition</span><span class="token punctuation">(</span>Arrayi<span class="token punctuation">,</span>Arrayj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
                        gf<span class="token punctuation">.</span>turn<span class="token operator">--</span><span class="token punctuation">;</span>

                        <span class="token comment" spellcheck="true">//列判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> imin<span class="token operator">=</span>Arrayi<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>imax<span class="token operator">=</span>Arrayi<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>imin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> imin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>imax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> imax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>imin<span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>imax<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count1<span class="token operator">++</span><span class="token punctuation">;</span>

                                <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                            <span class="token keyword">else</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count1<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//行判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> jmin<span class="token operator">=</span>Arrayj<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>jmax<span class="token operator">=</span>Arrayj<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>jmin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> jmin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>jmax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> jmax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>jmin<span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>jmax<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count2<span class="token operator">++</span><span class="token punctuation">;</span>
                                <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                            <span class="token keyword">else</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count2<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>

                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//135度判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count3<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count3<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token keyword">int</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">-</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">-</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token operator">-</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count4<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count4<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token comment" spellcheck="true">//如果选择的是人机对战</span>
                <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>turn<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                        <span class="token comment" spellcheck="true">//人先落子</span>
                        <span class="token comment" spellcheck="true">//先获取要落的地方</span>
                        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>black<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//落子</span>
                        g<span class="token punctuation">.</span><span class="token function">fillOval</span><span class="token punctuation">(</span>countx<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> county<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//设置当前位置已经有棋子了,棋子为黑子</span>
                        gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//把当前所下的棋子位置保存在动态数组中</span>
                        gf<span class="token punctuation">.</span>ChessPositonList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChessPosition</span><span class="token punctuation">(</span>Arrayi<span class="token punctuation">,</span>Arrayj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        gf<span class="token punctuation">.</span>turn<span class="token operator">++</span><span class="token punctuation">;</span>

                        <span class="token comment" spellcheck="true">//判断是否已经出现五科棋子了</span>
                        <span class="token comment" spellcheck="true">//列判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> Blackimin<span class="token operator">=</span>Arrayi<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>Blackimax<span class="token operator">=</span>Arrayi<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>Blackimin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> Blackimin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>Blackimax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> Blackimax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>Blackimin<span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>Blackimax<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count1<span class="token operator">++</span><span class="token punctuation">;</span>
                                <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                            <span class="token keyword">else</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count1<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//行判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> Blackjmin<span class="token operator">=</span>Arrayj<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>Blackjmax<span class="token operator">=</span>Arrayj<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>Blackjmin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> Blackjmin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>Blackjmax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> Blackjmax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>Blackjmin<span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>Blackjmax<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count2<span class="token operator">++</span><span class="token punctuation">;</span>
                            <span class="token keyword">else</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count2<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                            <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>

                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//135度判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count3<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count3<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token keyword">int</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">-</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">-</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token comment" spellcheck="true">//System.out.print("count4:"+count4);</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token operator">-</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count4<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count4<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>

                        <span class="token comment" spellcheck="true">//机器落子</span>
                        <span class="token comment" spellcheck="true">//先计算出各个位置的权值</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token comment" spellcheck="true">//首先判断当前位置是否为空</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    <span class="token comment" spellcheck="true">//往左延伸</span>
                                    String ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">int</span> jmin<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> j<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> positionj<span class="token operator">=</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>positionj<span class="token operator">>=</span>jmin<span class="token punctuation">;</span>positionj<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token comment" spellcheck="true">//依次加上前面的棋子</span>
                                        ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>positionj<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置中</span>
                                    Integer valueleft<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueleft<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueleft<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往右延伸</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">int</span> jmax<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> j<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> positionj<span class="token operator">=</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>positionj<span class="token operator">&lt;=</span>jmax<span class="token punctuation">;</span>positionj<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token comment" spellcheck="true">//依次加上前面的棋子</span>
                                        ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>positionj<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置中</span>
                                    Integer valueright<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueright<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueright<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//联合判断，判断行</span>
                                    gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token function">unionWeight</span><span class="token punctuation">(</span>valueleft<span class="token punctuation">,</span>valueright<span class="token punctuation">)</span><span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往上延伸</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">int</span> imin<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> i<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> positioni<span class="token operator">=</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>positioni<span class="token operator">>=</span>imin<span class="token punctuation">;</span>positioni<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token comment" spellcheck="true">//依次加上前面的棋子</span>
                                        ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>positioni<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置中</span>
                                    Integer valueup<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueup<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueup<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往下延伸</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">int</span> imax<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> positioni<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>positioni<span class="token operator">&lt;=</span>imax<span class="token punctuation">;</span>positioni<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token comment" spellcheck="true">//依次加上前面的棋子</span>
                                        ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>positioni<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置中</span>
                                    Integer valuedown<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valuedown<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valuedown<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//联合判断，判断列</span>
                                    gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token function">unionWeight</span><span class="token punctuation">(</span>valueup<span class="token punctuation">,</span>valuedown<span class="token punctuation">)</span><span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往左上方延伸,i,j,都减去相同的数</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>position<span class="token operator">>=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>position<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">+</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>i<span class="token operator">+</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">+</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">+</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                            ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token operator">+</span>position<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置</span>
                                    Integer valueLeftUp<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueLeftUp<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueLeftUp<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往右下方延伸,i,j,都加上相同的数</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>position<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>position<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">+</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>i<span class="token operator">+</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">+</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">+</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                            ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token operator">+</span>position<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置</span>
                                    Integer valueRightDown<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueRightDown<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueRightDown<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//联合判断，判断行</span>
                                    gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token function">unionWeight</span><span class="token punctuation">(</span>valueLeftUp<span class="token punctuation">,</span>valueRightDown<span class="token punctuation">)</span><span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往左下方延伸,i加,j减</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>position<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>position<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">+</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>i<span class="token operator">+</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">-</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">-</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                            ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token operator">+</span>position<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置</span>
                                    Integer valueLeftDown<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueLeftDown<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueLeftDown<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往右上方延伸,i减,j加</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>position<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>position<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">-</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>i<span class="token operator">-</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">+</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">+</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                            ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token operator">-</span>position<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置</span>
                                    Integer valueRightUp<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueRightUp<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueRightUp<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//联合判断，判断行</span>
                                    gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token function">unionWeight</span><span class="token punctuation">(</span>valueLeftDown<span class="token punctuation">,</span>valueRightUp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>

                        <span class="token comment" spellcheck="true">//打印出权值</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>go<span class="token punctuation">.</span>column<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>go<span class="token punctuation">.</span>row<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>

                        <span class="token comment" spellcheck="true">//取出最大的权值</span>
                        <span class="token keyword">int</span> AIi<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>AIj<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> weightmax<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>go<span class="token punctuation">.</span>row<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>go<span class="token punctuation">.</span>column<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>weightmax<span class="token operator">&lt;</span>gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    weightmax<span class="token operator">=</span>gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    AIi<span class="token operator">=</span>i<span class="token punctuation">;</span>
                                    AIj<span class="token operator">=</span>j<span class="token punctuation">;</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>AIi<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>AIj<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>

                        <span class="token comment" spellcheck="true">//确定位置，落子</span>
                        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//i对应y，j对应x</span>
                        countx<span class="token operator">=</span><span class="token number">20</span><span class="token operator">+</span>AIj<span class="token operator">*</span><span class="token number">40</span><span class="token punctuation">;</span>
                        county<span class="token operator">=</span><span class="token number">20</span><span class="token operator">+</span>AIi<span class="token operator">*</span><span class="token number">40</span><span class="token punctuation">;</span>
                        g<span class="token punctuation">.</span><span class="token function">fillOval</span><span class="token punctuation">(</span>countx<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> county<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//设置当前位置已经有棋子了，棋子为白子</span>
                        gf<span class="token punctuation">.</span>ChessPositonList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChessPosition</span><span class="token punctuation">(</span>AIi<span class="token punctuation">,</span>AIj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>AIi<span class="token punctuation">]</span><span class="token punctuation">[</span>AIj<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
                        gf<span class="token punctuation">.</span>turn<span class="token operator">--</span><span class="token punctuation">;</span>

                        <span class="token comment" spellcheck="true">//落子以后重置权值数组weightArray</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>go<span class="token punctuation">.</span>column<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>go<span class="token punctuation">.</span>row<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
                                gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>

                        <span class="token comment" spellcheck="true">//列判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> imin<span class="token operator">=</span>AIi<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>imax<span class="token operator">=</span>AIi<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>imin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> imin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>imax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> imax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>imin<span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>imax<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>AIj<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count1<span class="token operator">++</span><span class="token punctuation">;</span>

                                <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                            <span class="token keyword">else</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count1<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//行判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> jmin<span class="token operator">=</span>AIj<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>jmax<span class="token operator">=</span>AIj<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>jmin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> jmin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>jmax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> jmax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>jmin<span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>jmax<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>AIi<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count2<span class="token operator">++</span><span class="token punctuation">;</span>
                                <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                            <span class="token keyword">else</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count2<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>

                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//135度判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>AIi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>AIj<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>AIi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>AIj<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>AIi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>AIj<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count3<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count3<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>AIi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>AIj<span class="token operator">-</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>AIi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>AIj<span class="token operator">-</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>AIi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>AIj<span class="token operator">-</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count4<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count4<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre>
<p><strong>这里是权值AI算法的判断代码</strong></p>
<pre class=" language-java"><code class="language-java">    <span class="token comment" spellcheck="true">//AI联合算法</span>
    <span class="token keyword">public</span> Integer <span class="token function">unionWeight</span><span class="token punctuation">(</span>Integer a<span class="token punctuation">,</span>Integer b <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//必须要先判断a,b两个数值是不是null</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span>b<span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//一一</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">60</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//一二、二一</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">800</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//一三、三一、二二</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">3000</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//二三、三二</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">3000</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre>
<h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><p><img src="https://s2.ax1x.com/2019/06/16/V7Av9S.gif" alt></p>
<p><strong>具体演示如图所示</strong></p>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p><strong>依赖环境</strong></p>
<ul>
<li>jdk1.8</li>
</ul>
<p><strong>运行环境</strong></p>
<ul>
<li>MaxOS X</li>
<li>Linux</li>
<li>Window<br><a href="http://qiniusave.luoshaoqi.cn/Gobang.jar" target="_blank" rel="noopener">jar包点我下载</a><br>双击运行</li>
</ul>
<h2 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h2><p><a href="https://github.com/RoWe98/JavaCode/tree/master/wuziqi">GitHub连接</a></p>
<p><strong>转载请注明出处和作者</strong></p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/RoWe98/2019/06/16/五子棋/" data-id="ck4jwhkqe001dvo4a8yxjm3mw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/五子棋/">五子棋</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post- 五子棋三" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/16/ 五子棋三/" class="article-date">
  <time datetime="2019-06-15T16:35:00.000Z" itemprop="datePublished">2019-06-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/16/ 五子棋三/">从头开始编写一个五子棋的博弈游戏(Java)(第三期)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="从头开始编写一个五子棋的博弈游戏-Java-第三期"><a href="#从头开始编写一个五子棋的博弈游戏-Java-第三期" class="headerlink" title="从头开始编写一个五子棋的博弈游戏(Java)(第三期)"></a>从头开始编写一个五子棋的博弈游戏(Java)(第三期)</h1><h2 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h2><p>上一期<a href="https://www.luoshaoqi.cn/2019/06/15/%E4%BA%94%E5%AD%90%E6%A3%8B%E4%BA%8C/" target="_blank" rel="noopener">(第二期)</a>我们写了棋盘的按钮监听功能，以及棋盘的设置接口</p>
<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>这一期目前是这么想的，我们准备编写具体的方法来判断棋子落子的情况</p>
<p>人机博弈算法来编写五子棋目前市面上主流的算法有</p>
<ul>
<li>权值法</li>
<li>α-β剪枝法</li>
<li>博弈树法</li>
</ul>
<p>这里我选用了权值法</p>
<h2 id="权值法"><a href="#权值法" class="headerlink" title="权值法"></a>权值法</h2><p>权值法就是检测棋盘八个方向</p>
<ul>
<li>上、下、左、右、左上、右上、左下、右下</li>
</ul>
<p><img src="https://s2.ax1x.com/2019/06/16/VoqrwR.jpg" alt></p>
<p><strong>权值法设置了一系列权值 就像这样</strong></p>
<table>
<thead>
<tr>
<th>情况</th>
<th>权值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td>17</td>
<td>眠1连</td>
</tr>
<tr>
<td>02</td>
<td>12</td>
<td>眠1连</td>
</tr>
<tr>
<td>001</td>
<td>17</td>
<td>眠1连</td>
</tr>
<tr>
<td>002</td>
<td>12</td>
<td>眠1连</td>
</tr>
<tr>
<td>0001</td>
<td>17</td>
<td>眠1连</td>
</tr>
<tr>
<td>0002</td>
<td>12</td>
<td>眠1连</td>
</tr>
<tr>
<td>0102</td>
<td>17</td>
<td>眠1连</td>
</tr>
<tr>
<td>0201</td>
<td>12</td>
<td>眠1连</td>
</tr>
<tr>
<td>0012</td>
<td>15</td>
<td>眠1连</td>
</tr>
<tr>
<td>0021</td>
<td>10</td>
<td>眠1连</td>
</tr>
<tr>
<td>01002</td>
<td>19</td>
<td>眠1连</td>
</tr>
<tr>
<td>02001</td>
<td>14</td>
<td>眠1连</td>
</tr>
<tr>
<td>00102</td>
<td>17</td>
<td>眠1连</td>
</tr>
<tr>
<td>00201</td>
<td>12</td>
<td>眠1连</td>
</tr>
<tr>
<td>00012</td>
<td>15</td>
<td>眠1连</td>
</tr>
<tr>
<td>00021</td>
<td>10</td>
<td>眠1连</td>
</tr>
<tr>
<td>01000</td>
<td>21</td>
<td>活1连</td>
</tr>
<tr>
<td>02000</td>
<td>16</td>
<td>活1连</td>
</tr>
<tr>
<td>00100</td>
<td>19</td>
<td>活1连</td>
</tr>
<tr>
<td>00200</td>
<td>14</td>
<td>活1连</td>
</tr>
<tr>
<td>00010</td>
<td>17</td>
<td>活1连</td>
</tr>
<tr>
<td>00020</td>
<td>12</td>
<td>活1连</td>
</tr>
<tr>
<td>00001</td>
<td>15</td>
<td>活1连</td>
</tr>
<tr>
<td>00002</td>
<td>10</td>
<td>活1连</td>
</tr>
<tr>
<td>0101</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>0202</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>0110</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>0220</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>011</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>022</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>0011</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>0022</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>01012</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>02021</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>01102</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>02201</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>00112</td>
<td>65</td>
<td>眠2连</td>
</tr>
<tr>
<td>00221</td>
<td>60</td>
<td>眠2连</td>
</tr>
<tr>
<td>01010</td>
<td>75</td>
<td>活2连</td>
</tr>
<tr>
<td>02020</td>
<td>70</td>
<td>活2连</td>
</tr>
<tr>
<td>01100</td>
<td>75</td>
<td>活2连</td>
</tr>
<tr>
<td>02200</td>
<td>70</td>
<td>活2连</td>
</tr>
<tr>
<td>00110</td>
<td>75</td>
<td>活2连</td>
</tr>
<tr>
<td>00220</td>
<td>70</td>
<td>活2连</td>
</tr>
<tr>
<td>00011</td>
<td>75</td>
<td>活2连</td>
</tr>
<tr>
<td>00022</td>
<td>70</td>
<td>活2连</td>
</tr>
<tr>
<td>0111</td>
<td>150</td>
<td>眠3连</td>
</tr>
<tr>
<td>0222</td>
<td>140</td>
<td>眠3连</td>
</tr>
<tr>
<td>01112</td>
<td>150</td>
<td>眠3连</td>
</tr>
<tr>
<td>02221</td>
<td>140</td>
<td>眠3连</td>
</tr>
<tr>
<td>01101</td>
<td>1000</td>
<td>活3连</td>
</tr>
<tr>
<td>02202</td>
<td>800</td>
<td>活3连</td>
</tr>
<tr>
<td>01011</td>
<td>1000</td>
<td>活3连</td>
</tr>
<tr>
<td>02022</td>
<td>800</td>
<td>活3连</td>
</tr>
<tr>
<td>01110</td>
<td>1000</td>
<td>活3连</td>
</tr>
<tr>
<td>02220</td>
<td>800</td>
<td>活3连</td>
</tr>
<tr>
<td>01111</td>
<td>3000</td>
<td>4连</td>
</tr>
<tr>
<td>02222</td>
<td>3500</td>
<td>4连</td>
</tr>
</tbody>
</table>
<p><strong>说明</strong></p>
<ul>
<li>0为空位</li>
<li>1为黑棋</li>
<li>2为白棋</li>
<li>类似01022这种什么意思？</li>
</ul>
<p><img src="https://s2.ax1x.com/2019/06/16/VoL3cD.jpg" alt></p>
<p><strong>如图所示</strong></p>
<ul>
<li>从左到右分别为白-黑-白</li>
<li>且左右两边都为空</li>
<li>所以用012表示为02120即空-白-黑-白-空</li>
</ul>
<h2 id="实现权值法"><a href="#实现权值法" class="headerlink" title="实现权值法"></a>实现权值法</h2><p><strong>所以为了表示这些情况我们使用HashMap在存储对应的情况和权值</strong></p>
<p>代码如下所示</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> HashMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Integer<span class="token operator">></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span>String<span class="token punctuation">,</span>Integer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//设置不同落子情况和相应权值的数组</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//被堵住</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01"</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"001"</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"002"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0001"</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0002"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0102"</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0201"</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0012"</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0021"</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01002"</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02001"</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00102"</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00201"</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00012"</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00021"</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠1连，10</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01000"</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02000"</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00100"</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00200"</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00010"</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00020"</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，10</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00001"</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，15</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00002"</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活1连，10</span>

        <span class="token comment" spellcheck="true">//被堵住</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0101"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0202"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0110"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0220"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"011"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"022"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0011"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0022"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01012"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02021"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01102"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02201"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00112"</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00221"</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠2连，30</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01010"</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02020"</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01100"</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02200"</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00110"</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00220"</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，30</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00011"</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，40</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"00022"</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活2连，30</span>

        <span class="token comment" spellcheck="true">//被堵住</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0111"</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠3连，100</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"0222"</span><span class="token punctuation">,</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠3连，80</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01112"</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠3连，100</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02221"</span><span class="token punctuation">,</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//眠3连，80</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01101"</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活3连，130</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02202"</span><span class="token punctuation">,</span><span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活3连，110</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01011"</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活3连，130</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02022"</span><span class="token punctuation">,</span><span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活3连，110</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01110"</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活3连</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02220"</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//活3连</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"01111"</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//4连，300</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"02222"</span><span class="token punctuation">,</span><span class="token number">3500</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//4连，280</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weightArray<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span>column<span class="token punctuation">]</span><span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//定义一个二维数组，保存各个点的权值</span>
</code></pre>
<p>如上所示我们设置不同落子情况和相应权值保存到HashMap中，并且定义一个二维数组，保存各个点的权值</p>
<p><strong>其中0表示空位，1表示黑棋子，2表示白棋子。当然上面只是一个示例，实际情况比这个多得多。</strong></p>
<p><strong>权值如何给定？</strong></p>
<ul>
<li>A.随着相连的棋子数增加，它的权值要相应地增加；</li>
<li>B.相同的相连棋子数，活连的权值要比眠连要大；</li>
<li>C.人执黑，AI 执白。如果相同的相连情况，黑子的权值大于白子，那么AI就偏防守；如果黑子的权值小于白子，那么AI偏进攻。由于黑子先手，一般可以使用黑子的权值大于白子，让AI进行后手防守。（我这里用的、AI用的就是偏防守）。</li>
</ul>
<p><strong>细节：</strong></p>
<ul>
<li>A.比如当出现某个空位出现了4连，那么这个时候不管其他位置情况如何，我们都必须先下这个位置，因此4连的权值要比3连大得多，保证它一定能够最先被选择。</li>
<li>B.如果出现了权值相同的位置怎么办？我们这里默认选择第一个位置。</li>
</ul>
<h2 id="权值判断"><a href="#权值判断" class="headerlink" title="权值判断"></a>权值判断</h2><p>这里我们需要编写一个方法来判断没有棋子的地方的权值，好让棋子可以根据权值来找到合适的位置来落子</p>
<p>当然我们需要分两个情况：</p>
<ul>
<li>人人</li>
<li>人机<br>在人人的情况下我们就不需要判断权值，人机的情况下我们把权值判断交给电脑来判断权值，从而落子</li>
</ul>
<h3 id="具体算法设计"><a href="#具体算法设计" class="headerlink" title="具体算法设计"></a>具体算法设计</h3><ul>
<li><p>人下棋后先判断输赢，如果赢了则游戏结束，否则就进入AI算法</p>
</li>
<li><p>AI算法要做的事情就是遍历棋盘的每一个空位置，根据当前棋盘的棋子数组，来确定与该空位相关的棋子相连情况。然后和在Haspmap中进行匹配搜索，找到相应的权值，把这个权值加到当前位置。</p>
</li>
<li><p>遍历权值数组，选择最大的权值，找到相应位置落子</p>
</li>
<li><p>判断输赢，如果赢了则游戏结束，否则回到人下棋。</p>
</li>
</ul>
<p><strong>代码实现</strong></p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">mouseClicked</span><span class="token punctuation">(</span>java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span>MouseEvent e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> x<span class="token operator">=</span>e<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> y<span class="token operator">=</span>e<span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//计算棋子要落在棋盘的哪个交叉点上</span>
        <span class="token keyword">int</span> countx<span class="token operator">=</span><span class="token punctuation">(</span>x<span class="token operator">/</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">40</span><span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> county<span class="token operator">=</span><span class="token punctuation">(</span>y<span class="token operator">/</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">40</span><span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">;</span>
        Graphics g<span class="token operator">=</span>gf<span class="token punctuation">.</span><span class="token function">getGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//计算棋盘上棋子在数组中相应的位置</span>
        <span class="token keyword">int</span> Arrayj<span class="token operator">=</span><span class="token punctuation">(</span>countx<span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">40</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> Arrayi<span class="token operator">=</span><span class="token punctuation">(</span>county<span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">40</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>turn<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//判断是否可以进行游戏</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"此处已经有棋子了，请下在其它地方"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">//选择人人对战</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>ChooseType<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>turn<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token comment" spellcheck="true">//先获取要落的地方</span>
                        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>black<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//落子</span>
                        g<span class="token punctuation">.</span><span class="token function">fillOval</span><span class="token punctuation">(</span>countx<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> county<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//设置当前位置已经有棋子了,棋子为黑子</span>
                        gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//把当前所下的棋子位置保存在动态数组中</span>
                        gf<span class="token punctuation">.</span>ChessPositonList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChessPosition</span><span class="token punctuation">(</span>Arrayi<span class="token punctuation">,</span>Arrayj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        gf<span class="token punctuation">.</span>turn<span class="token operator">++</span><span class="token punctuation">;</span>

                        <span class="token comment" spellcheck="true">//判断是否已经出现五科棋子了</span>
                        <span class="token comment" spellcheck="true">//列判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> imin<span class="token operator">=</span>Arrayi<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>imax<span class="token operator">=</span>Arrayi<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>imin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> imin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>imax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> imax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>imin<span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>imax<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count1<span class="token operator">++</span><span class="token punctuation">;</span>
                                <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                            <span class="token keyword">else</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count1<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//行判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> jmin<span class="token operator">=</span>Arrayj<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>jmax<span class="token operator">=</span>Arrayj<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>jmin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> jmin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>jmax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> jmax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>jmin<span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>jmax<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count2<span class="token operator">++</span><span class="token punctuation">;</span>
                            <span class="token keyword">else</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count2<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                            <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>

                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//135度判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count3<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count3<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token keyword">int</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">-</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">-</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token comment" spellcheck="true">//System.out.print("count4:"+count4);</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token operator">-</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count4<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count4<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>turn<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        g<span class="token punctuation">.</span><span class="token function">fillOval</span><span class="token punctuation">(</span>countx<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> county<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//设置当前位置已经有棋子了，棋子为白子</span>
                        gf<span class="token punctuation">.</span>ChessPositonList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChessPosition</span><span class="token punctuation">(</span>Arrayi<span class="token punctuation">,</span>Arrayj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
                        gf<span class="token punctuation">.</span>turn<span class="token operator">--</span><span class="token punctuation">;</span>

                        <span class="token comment" spellcheck="true">//列判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> imin<span class="token operator">=</span>Arrayi<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>imax<span class="token operator">=</span>Arrayi<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>imin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> imin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>imax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> imax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>imin<span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>imax<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count1<span class="token operator">++</span><span class="token punctuation">;</span>

                                <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                            <span class="token keyword">else</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count1<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//行判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> jmin<span class="token operator">=</span>Arrayj<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>jmax<span class="token operator">=</span>Arrayj<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>jmin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> jmin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>jmax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> jmax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>jmin<span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>jmax<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count2<span class="token operator">++</span><span class="token punctuation">;</span>
                                <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                            <span class="token keyword">else</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count2<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>

                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//135度判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count3<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count3<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token keyword">int</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">-</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">-</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token operator">-</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count4<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count4<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token comment" spellcheck="true">//如果选择的是人机对战</span>
                <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>turn<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                        <span class="token comment" spellcheck="true">//人先落子</span>
                        <span class="token comment" spellcheck="true">//先获取要落的地方</span>
                        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>black<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//落子</span>
                        g<span class="token punctuation">.</span><span class="token function">fillOval</span><span class="token punctuation">(</span>countx<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> county<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//设置当前位置已经有棋子了,棋子为黑子</span>
                        gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//把当前所下的棋子位置保存在动态数组中</span>
                        gf<span class="token punctuation">.</span>ChessPositonList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChessPosition</span><span class="token punctuation">(</span>Arrayi<span class="token punctuation">,</span>Arrayj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        gf<span class="token punctuation">.</span>turn<span class="token operator">++</span><span class="token punctuation">;</span>

                        <span class="token comment" spellcheck="true">//判断是否已经出现五科棋子了</span>
                        <span class="token comment" spellcheck="true">//列判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> Blackimin<span class="token operator">=</span>Arrayi<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>Blackimax<span class="token operator">=</span>Arrayi<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>Blackimin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> Blackimin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>Blackimax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> Blackimax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>Blackimin<span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>Blackimax<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count1<span class="token operator">++</span><span class="token punctuation">;</span>
                                <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                            <span class="token keyword">else</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count1<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//行判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> Blackjmin<span class="token operator">=</span>Arrayj<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>Blackjmax<span class="token operator">=</span>Arrayj<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>Blackjmin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> Blackjmin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>Blackjmax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> Blackjmax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>Blackjmin<span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>Blackjmax<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count2<span class="token operator">++</span><span class="token punctuation">;</span>
                            <span class="token keyword">else</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count2<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                            <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>

                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//135度判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count3<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count3<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token keyword">int</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">-</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>Arrayj<span class="token operator">-</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token comment" spellcheck="true">//System.out.print("count4:"+count4);</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>Arrayi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>Arrayj<span class="token operator">-</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> count4<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count4<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"黑方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>

                        <span class="token comment" spellcheck="true">//机器落子</span>
                        <span class="token comment" spellcheck="true">//先计算出各个位置的权值</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token comment" spellcheck="true">//首先判断当前位置是否为空</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    <span class="token comment" spellcheck="true">//往左延伸</span>
                                    String ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">int</span> jmin<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> j<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> positionj<span class="token operator">=</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>positionj<span class="token operator">>=</span>jmin<span class="token punctuation">;</span>positionj<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token comment" spellcheck="true">//依次加上前面的棋子</span>
                                        ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>positionj<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置中</span>
                                    Integer valueleft<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueleft<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueleft<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往右延伸</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">int</span> jmax<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> j<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> positionj<span class="token operator">=</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>positionj<span class="token operator">&lt;=</span>jmax<span class="token punctuation">;</span>positionj<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token comment" spellcheck="true">//依次加上前面的棋子</span>
                                        ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>positionj<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置中</span>
                                    Integer valueright<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueright<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueright<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//联合判断，判断行</span>
                                    gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token function">unionWeight</span><span class="token punctuation">(</span>valueleft<span class="token punctuation">,</span>valueright<span class="token punctuation">)</span><span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往上延伸</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">int</span> imin<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> i<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> positioni<span class="token operator">=</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>positioni<span class="token operator">>=</span>imin<span class="token punctuation">;</span>positioni<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token comment" spellcheck="true">//依次加上前面的棋子</span>
                                        ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>positioni<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置中</span>
                                    Integer valueup<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueup<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueup<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往下延伸</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">int</span> imax<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> positioni<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>positioni<span class="token operator">&lt;=</span>imax<span class="token punctuation">;</span>positioni<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token comment" spellcheck="true">//依次加上前面的棋子</span>
                                        ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>positioni<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置中</span>
                                    Integer valuedown<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valuedown<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valuedown<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//联合判断，判断列</span>
                                    gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token function">unionWeight</span><span class="token punctuation">(</span>valueup<span class="token punctuation">,</span>valuedown<span class="token punctuation">)</span><span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往左上方延伸,i,j,都减去相同的数</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>position<span class="token operator">>=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>position<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">+</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>i<span class="token operator">+</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">+</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">+</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                            ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token operator">+</span>position<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置</span>
                                    Integer valueLeftUp<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueLeftUp<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueLeftUp<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往右下方延伸,i,j,都加上相同的数</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>position<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>position<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">+</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>i<span class="token operator">+</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">+</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">+</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                            ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token operator">+</span>position<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置</span>
                                    Integer valueRightDown<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueRightDown<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueRightDown<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//联合判断，判断行</span>
                                    gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token function">unionWeight</span><span class="token punctuation">(</span>valueLeftUp<span class="token punctuation">,</span>valueRightDown<span class="token punctuation">)</span><span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往左下方延伸,i加,j减</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>position<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>position<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">+</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>i<span class="token operator">+</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">-</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">-</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                            ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token operator">+</span>position<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置</span>
                                    Integer valueLeftDown<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueLeftDown<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueLeftDown<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//往右上方延伸,i减,j加</span>
                                    ConnectType<span class="token operator">=</span><span class="token string">"0"</span><span class="token punctuation">;</span>
                                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>position<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>position<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">-</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>i<span class="token operator">-</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">+</span>position<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>j<span class="token operator">+</span>position<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                            ConnectType<span class="token operator">=</span>ConnectType<span class="token operator">+</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token operator">-</span>position<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span>position<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span>
                                    <span class="token comment" spellcheck="true">//从数组中取出相应的权值，加到权值数组的当前位置</span>
                                    Integer valueRightUp<span class="token operator">=</span>gf<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ConnectType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token keyword">if</span><span class="token punctuation">(</span>valueRightUp<span class="token operator">!=</span>null<span class="token punctuation">)</span> gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>valueRightUp<span class="token punctuation">;</span>

                                    <span class="token comment" spellcheck="true">//联合判断，判断行</span>
                                    gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token function">unionWeight</span><span class="token punctuation">(</span>valueLeftDown<span class="token punctuation">,</span>valueRightUp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>

                        <span class="token comment" spellcheck="true">//打印出权值</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>go<span class="token punctuation">.</span>column<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>go<span class="token punctuation">.</span>row<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>

                        <span class="token comment" spellcheck="true">//取出最大的权值</span>
                        <span class="token keyword">int</span> AIi<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>AIj<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> weightmax<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>go<span class="token punctuation">.</span>row<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>go<span class="token punctuation">.</span>column<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>weightmax<span class="token operator">&lt;</span>gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    weightmax<span class="token operator">=</span>gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                                    AIi<span class="token operator">=</span>i<span class="token punctuation">;</span>
                                    AIj<span class="token operator">=</span>j<span class="token punctuation">;</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>AIi<span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span>AIj<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>

                        <span class="token comment" spellcheck="true">//确定位置，落子</span>
                        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//i对应y，j对应x</span>
                        countx<span class="token operator">=</span><span class="token number">20</span><span class="token operator">+</span>AIj<span class="token operator">*</span><span class="token number">40</span><span class="token punctuation">;</span>
                        county<span class="token operator">=</span><span class="token number">20</span><span class="token operator">+</span>AIi<span class="token operator">*</span><span class="token number">40</span><span class="token punctuation">;</span>
                        g<span class="token punctuation">.</span><span class="token function">fillOval</span><span class="token punctuation">(</span>countx<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> county<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">//设置当前位置已经有棋子了，棋子为白子</span>
                        gf<span class="token punctuation">.</span>ChessPositonList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChessPosition</span><span class="token punctuation">(</span>AIi<span class="token punctuation">,</span>AIj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>AIi<span class="token punctuation">]</span><span class="token punctuation">[</span>AIj<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
                        gf<span class="token punctuation">.</span>turn<span class="token operator">--</span><span class="token punctuation">;</span>

                        <span class="token comment" spellcheck="true">//落子以后重置权值数组weightArray</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>go<span class="token punctuation">.</span>column<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>go<span class="token punctuation">.</span>row<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
                                gf<span class="token punctuation">.</span>weightArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>

                        <span class="token comment" spellcheck="true">//列判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> imin<span class="token operator">=</span>AIi<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>imax<span class="token operator">=</span>AIi<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>imin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> imin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>imax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> imax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>imin<span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>imax<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>AIj<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count1<span class="token operator">++</span><span class="token punctuation">;</span>

                                <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                            <span class="token keyword">else</span> count1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count1<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//行判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        <span class="token keyword">int</span> jmin<span class="token operator">=</span>AIj<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span>jmax<span class="token operator">=</span>AIj<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>jmin<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> jmin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>jmax<span class="token operator">></span><span class="token number">14</span><span class="token punctuation">)</span> jmax<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span>
                        count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>jmin<span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>jmax<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>AIi<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count2<span class="token operator">++</span><span class="token punctuation">;</span>
                                <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                            <span class="token keyword">else</span> count2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span>count2<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>

                        <span class="token punctuation">}</span>
                        <span class="token comment" spellcheck="true">//135度判断</span>
                        <span class="token comment" spellcheck="true">//首先界定数组范围，防止越界</span>
                        count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>AIi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>AIj<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>AIi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>AIj<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>AIi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>AIj<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count3<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count3<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//判断相连的棋子数</span>
                        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>AIi<span class="token operator">+</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>AIj<span class="token operator">-</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>AIi<span class="token operator">+</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>AIj<span class="token operator">-</span>i<span class="token operator">&lt;=</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>AIi<span class="token operator">+</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>AIj<span class="token operator">-</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> count4<span class="token operator">++</span><span class="token punctuation">;</span>
                                    <span class="token comment" spellcheck="true">//如果出现了其他棋子，或者是没有棋子时，就重新开始计数</span>
                                <span class="token keyword">else</span> count4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>count4<span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span><span class="token function">PopUp</span><span class="token punctuation">(</span><span class="token string">"白方赢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
                                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre>
<p><strong>这里是权值AI算法的判断代码</strong></p>
<pre class=" language-java"><code class="language-java">    <span class="token comment" spellcheck="true">//AI联合算法</span>
    <span class="token keyword">public</span> Integer <span class="token function">unionWeight</span><span class="token punctuation">(</span>Integer a<span class="token punctuation">,</span>Integer b <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//必须要先判断a,b两个数值是不是null</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span>b<span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//一一</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">60</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//一二、二一</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">800</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//一三、三一、二二</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">3000</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//二三、三二</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">>=</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>a<span class="token operator">&lt;=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>b<span class="token operator">&lt;=</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">3000</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre>
<h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><p><img src="https://s2.ax1x.com/2019/06/16/V7Av9S.gif" alt></p>
<p><strong>具体演示如图所示</strong></p>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p><strong>依赖环境</strong></p>
<ul>
<li>jdk1.8</li>
</ul>
<p><strong>运行环境</strong></p>
<ul>
<li>MaxOS X</li>
<li>Linux</li>
<li>Window<br><a href="http://qiniusave.luoshaoqi.cn/Gobang.jar" target="_blank" rel="noopener">jar包点我下载</a><br>双击运行</li>
</ul>
<h2 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h2><p><a href="https://github.com/RoWe98/JavaCode/tree/master/wuziqi">GitHub连接</a></p>
<p><strong>转载请注明出处和作者</strong></p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/RoWe98/2019/06/16/ 五子棋三/" data-id="ck4jwhkp50003vo4ab2fq8ocn" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/五子棋/">五子棋</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-五子棋二" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/15/五子棋二/" class="article-date">
  <time datetime="2019-06-14T16:26:00.000Z" itemprop="datePublished">2019-06-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/15/五子棋二/">从头开始编写一个五子棋的博弈游戏(Java)(第二期)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="从头开始编写一个五子棋的博弈游戏-Java-第二期"><a href="#从头开始编写一个五子棋的博弈游戏-Java-第二期" class="headerlink" title="从头开始编写一个五子棋的博弈游戏(Java)(第二期)"></a>从头开始编写一个五子棋的博弈游戏(Java)(第二期)</h1><h2 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h2><p><strong><a href="[https://www.luoshaoqi.cn/2019/06/06/%E4%BA%94%E5%AD%90%E6%A3%8B%E4%B8%80/](https://www.luoshaoqi.cn/2019/06/06/五子棋一/">上一期</a>)</strong>已经可以成功实现一个棋盘了 这一期我们主要来编写键盘的监听方法和其他工具类</p>
<h2 id="按钮监听"><a href="#按钮监听" class="headerlink" title="按钮监听"></a>按钮监听</h2><p>如上期所示我们在我们键盘的右边新增了几个按钮 接下来我自己又对按钮进行了一些更改如下所示：</p>
<p><a href="https://imgchr.com/i/V5vPDH" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/15/V5vPDH.md.png" alt></a></p>
<p>在上期的基础上我自己重新 更改了一些按钮 添加了作者信息显示 游戏说明的按钮</p>
<h3 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h3><p>键盘的监听实现起来很简单，方法如下：</p>
<ul>
<li>实例化一个ActionEvent 对象来管理按键</li>
<li>通过e.getActionCommand()来判断按下了哪个按钮</li>
<li>分别实现新游戏、放弃、说明等功能</li>
</ul>
<p><strong>部分代码如下:</strong></p>
<pre class=" language-java"><code class="language-java">
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">actionPerformed</span><span class="token punctuation">(</span>ActionEvent e<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment" spellcheck="true">//必须得用else if，因为如果没有else if你每次在右边的界面点击时它都会获取人人对战或者人机对战的                    信息，每次都会重置棋盘数组</span>
        <span class="token comment" spellcheck="true">//获取当前被点击按钮的内容，判断是不是"开始新游戏"这个按钮</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getActionCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"新游戏"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//重绘棋盘</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
                    gf<span class="token punctuation">.</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            gf<span class="token punctuation">.</span><span class="token function">repaint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//如果是开始新游戏的按钮，再为左半部分设置监听方法</span>
            gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
               <span class="token comment" spellcheck="true">// forkme github关注</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getActionCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"我的github"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>Desktop<span class="token punctuation">.</span><span class="token function">isDesktopSupported</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">//创建一个URI实例</span>
                    java<span class="token punctuation">.</span>net<span class="token punctuation">.</span>URI uri <span class="token operator">=</span> java<span class="token punctuation">.</span>net<span class="token punctuation">.</span>URI<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">"https://github.com/RoWe98"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">//获取当前系统桌面扩展</span>
                    java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>Desktop dp <span class="token operator">=</span> java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>Desktop<span class="token punctuation">.</span><span class="token function">getDesktop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">//判断系统桌面是否支持要执行的功能</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>dp<span class="token punctuation">.</span><span class="token function">isSupported</span><span class="token punctuation">(</span>java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>Desktop<span class="token punctuation">.</span>Action<span class="token punctuation">.</span>BROWSE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">//获取系统默认浏览器打开链接</span>
                        dp<span class="token punctuation">.</span><span class="token function">browse</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">//此为无法获取系统默认浏览器</span>
                    error<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment" spellcheck="true">// 按下readme 游戏说明</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getActionCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"说明"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            String readme <span class="token operator">=</span> <span class="token string">"1.选择一个游戏模式：人人或人机"</span><span class="token operator">+</span><span class="token string">"\n"</span> <span class="token operator">+</span>
                <span class="token string">"2.开始新游戏"</span><span class="token operator">+</span><span class="token string">"\n"</span><span class="token operator">+</span><span class="token string">"3.Enjoy!"</span><span class="token punctuation">;</span>
            JOptionPane<span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span>null<span class="token punctuation">,</span>readme<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getActionCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"放弃"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>gf<span class="token punctuation">.</span>turn<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                JOptionPane<span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span>null<span class="token punctuation">,</span> <span class="token string">"白方胜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"白方胜!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> JOptionPane<span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span>null<span class="token punctuation">,</span> <span class="token string">"黑方胜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">//重新把棋盘设置为不可操作</span>
            gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span><span class="token function">getSelectedItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"人机"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            gf<span class="token punctuation">.</span>ChooseType<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
            gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span><span class="token function">getSelectedItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"人人"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            gf<span class="token punctuation">.</span>ChooseType<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            gf<span class="token punctuation">.</span>turn<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre>
<h2 id="棋盘信息以及棋子信息存储以及设定"><a href="#棋盘信息以及棋子信息存储以及设定" class="headerlink" title="棋盘信息以及棋子信息存储以及设定"></a>棋盘信息以及棋子信息存储以及设定</h2><h3 id="棋子坐标信息"><a href="#棋子坐标信息" class="headerlink" title="棋子坐标信息"></a>棋子坐标信息</h3><p><strong>首先我们来思考一个问题：如何存储当前棋子在棋盘上的坐标？</strong></p>
<p>答：建立一个Bean来存储当前棋子的坐标信息</p>
<p>我相信大部分人都会这么想，当然我们这里也是可以这么实现这个功能的</p>
<p>如下所示，我们建立一个类来存放我们棋子的坐标</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//新建一个棋子类ChessPosition保存每一步棋子所在的位置</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChessPosition</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> Listi<span class="token punctuation">,</span>Listj<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">ChessPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">ChessPosition</span><span class="token punctuation">(</span><span class="token keyword">int</span> Listi<span class="token punctuation">,</span><span class="token keyword">int</span> Listj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>Listi<span class="token operator">=</span>Listi<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>Listj<span class="token operator">=</span>Listj<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<p>通过这个类 就可以让我们来保存每一步棋子的位置 信息</p>
<h3 id="棋盘信息设定"><a href="#棋盘信息设定" class="headerlink" title="棋盘信息设定"></a>棋盘信息设定</h3><p>同样的问题，我们如何设定棋盘的信息 比如棋盘大小为15*15 ，格子大小，棋盘的起点坐标</p>
<p>这里我们可以使用Java中一个特别好用的东西，那就是接口，我们完全可以定义一个接口保存我们定义的信息，在之后的类中调用我们棋盘信息的时候只需要implement接口即可</p>
<p>接口定义如下所示：</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//定义与棋盘数据相关的接口，保存棋盘的起点，格子大小，行数列数等信息</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">GoBangconfig</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span>row<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span>column<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>如图我们已经设置了按键监听所以我们在主方法中为按钮添加监听</strong></p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//按钮监控类</span>
ButtonListener butListen<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ButtonListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>box<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//对每一个按钮都添加状态事件的监听处理机制</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>butname<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    button<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>butListen<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//添加发生操作的监听方法</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">//对可选框添加事件监听机制</span>
    box<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>butListen<span class="token punctuation">)</span><span class="token punctuation">;</span>

    FrameListener fl<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">FrameListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fl<span class="token punctuation">.</span><span class="token function">setGraphics</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取画笔对象</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addMouseListener</span><span class="token punctuation">(</span>fl<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>本期主要写按钮监听和棋盘棋子设定</strong></p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/RoWe98/2019/06/15/五子棋二/" data-id="ck4jwhkqi001kvo4av814a76s" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/五子棋/">五子棋</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-bcmNetCard" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/14/bcmNetCard/" class="article-date">
  <time datetime="2019-06-14T12:51:39.000Z" itemprop="datePublished">2019-06-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/14/bcmNetCard/">为黑苹果解锁AirDrop功能和蓝牙以及WI-FI</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="为黑苹果解锁AirDrop功能和蓝牙以及WI-FI"><a href="#为黑苹果解锁AirDrop功能和蓝牙以及WI-FI" class="headerlink" title="为黑苹果解锁AirDrop功能和蓝牙以及WI-FI"></a>为黑苹果解锁AirDrop功能和蓝牙以及WI-FI</h1><h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>笔者的黑苹果安装在ThinkPad T450上由于网卡是因特尔的网卡 在黑苹果下面不支持WiFi和蓝牙，于是就想重新安装个网卡，网卡如图所示：</p>
<p><a href="https://imgchr.com/i/V56Y38" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/14/V56Y38.md.jpg" alt></a></p>
<p>网卡为NGFF接口的</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>在网上搜索之后发现博通的网卡可以免驱 最巧的是macbook 自带的网卡就是<strong>博通</strong>的网卡，于是我在某宝上购买了一款型号为<strong>BCM94360CS2</strong>的博通网卡</p>
<p><a href="https://imgchr.com/i/V56tgS" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/14/V56tgS.md.jpg" alt></a></p>
<p>这款网卡正好佩戴一个转接卡可以让我们安装到主板的网卡接口上</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><strong>打开笔记本的后盖找到安装网卡的位置 拆下我们之前的intel的网卡 安装上我们博通的网卡，然后插好天线</strong></p>
<p>安装完成就像这样</p>
<p><a href="https://imgchr.com/i/V56J9f" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/14/V56J9f.md.jpg" alt></a></p>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>由于我们安装的macbook原装的网卡，所以按道理上我们的网卡在黑苹果上面蓝牙和WIFi都是免驱的</p>
<p>如图所示 我们电脑的WiFi 蓝牙 都可以<strong>正常</strong>使用</p>
<p>当然最重要的是<strong>AirDrop</strong> 完美使用！！</p>
<p><strong>Finder界面</strong></p>
<p><a href="https://imgchr.com/i/V56Z9K" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/14/V56Z9K.md.png" alt></a></p>
<p><strong>接受手机给电脑的AirDrop</strong></p>
<p><img src="https://s2.ax1x.com/2019/06/14/V56KnH.png" alt></p>
<p><strong>手机给电脑发送</strong></p>
<p><a href="https://imgchr.com/i/V56Njg" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/14/V56Njg.md.png" alt></a></p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/RoWe98/2019/06/14/bcmNetCard/" data-id="ck4jwhkpz000rvo4asckxup2j" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/黑苹果/">黑苹果</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Usb_Needs_Power" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/14/Usb_Needs_Power/" class="article-date">
  <time datetime="2019-06-14T05:15:00.000Z" itemprop="datePublished">2019-06-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/14/Usb_Needs_Power/">解决黑苹果Usb配件需要电源</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="解决黑苹果Usb配件需要电源"><a href="#解决黑苹果Usb配件需要电源" class="headerlink" title="解决黑苹果Usb配件需要电源"></a>解决黑苹果Usb配件需要电源</h1><h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>这几天在使用u盘和移动硬盘的时候突然发现会出现一个问题</p>
<p>如图所示：</p>
<p><a href="https://imgchr.com/i/V4oDGd" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/14/V4oDGd.md.png" alt></a></p>
<p>在远景论坛和tonymacx86上面搜寻了半天大概已经确定了问题</p>
<p><strong>USB3.0没有完美驱动成功</strong></p>
<h2 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h2><p>众所周知安装黑苹果的过程中最难的一部分不是安装而是配置驱动，这让我想着如何是好，于是我就去GitHub上找到我当时下载EFI文件 的那个仓库中 仔细阅读了他的README文档，其中在这样一个文件夹里面找到了一个文件</p>
<p><a href="http://qiniusave.luoshaoqi.cn/Lenovo-T450-USB.kext.zip" target="_blank" rel="noopener">Lenovo-T450-USB.kext</a></p>
<p>他在README里面是这么描述的</p>
<p><strong>Miscellaneous</strong></p>
<ul>
<li><p>A collection of different kernel extensions that I could use with this build but are currently not in use. I keep them in this folder for quick access if I find my self in a situation where I need them so that I do not have to download them all over again. The most important kext in this directory is the USB-T450-Injector.kext file. It can be used to inject the systems proper USB configuration in the absence of a properly configured USBInjectall + .aml configuration file. Don’t get rid of it. If your USB ports ever stop working just load this kext into the “Other” folder and reboot.</p>
</li>
<li><p>意思是如果你使用USBinjectall+.aml文件有问题的话 可以用USB-T450-Injector.kext文件代替</p>
</li>
</ul>
<p>使用方法很简单</p>
<ul>
<li>打开terminal输入<code>diskutil list</code></li>
<li>找到EFI分区 使用<code>sudo diskutil mount [EFI分区盘名]</code> 挂载EFI分区</li>
<li><p>在EFI分区的CLOVER文件夹中的kext中的 Other中 删除之前的USBInjectall.kext替换为Lenovo-T450-USB.kext</p>
</li>
<li><p>重启计算机即可，在我重启之后发现已经解决了问题</p>
</li>
</ul>
<p><strong>如图所示</strong></p>
<p><img src="https://s2.ax1x.com/2019/06/14/V4T0mV.png" alt></p>
<p><img src="https://s2.ax1x.com/2019/06/14/V4TR61.png" alt></p>
<p><img src="https://s2.ax1x.com/2019/06/14/V4T5TO.png" alt></p>
<p>如图所示速度也是USB3.0的速度，这时候就说明了我们的USB3.0已经完美驱动了</p>
<h2 id="解除USB端口数量限制补丁"><a href="#解除USB端口数量限制补丁" class="headerlink" title="解除USB端口数量限制补丁"></a>解除USB端口数量限制补丁</h2><p><strong>使用方法</strong></p>
<ul>
<li>打开Clover Configurator 在这<a href="https://mackie100projects.altervista.org/" target="_blank" rel="noopener">下载</a></li>
<li>然后点击挂载分区输入密码后选择EFI文件 如图所示</li>
</ul>
<p><a href="https://imgchr.com/i/V47nNF" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/14/V47nNF.md.png" alt></a></p>
<p><a href="https://imgchr.com/i/V47GB6" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/14/V47GB6.md.png" alt></a></p>
<ul>
<li>然后在内核和驱动补丁这一块点击四次加号按照名字加入如下内容</li>
</ul>
<pre class=" language-bash"><code class="language-bash">Comment: **USB** port limit patch <span class="token comment" spellcheck="true">#1 10.14.x modify by DalianSky(credit ydeng)</span>

Name: com.apple.iokit.IO**USB**HostFamily

Find: 83FB0F0F

Replace: 83FB3F0F

MatchOS: 10.14.x



Comment: **USB** port limit patch <span class="token comment" spellcheck="true">#2 10.14.x modify by DalianSky(credit PMHeart)</span>

Name: com.apple.iokit.IO**USB**HostFamily

Find: 83E30FD3

Replace: 83E33FD3

MatchOS: 10.14.x



Comment: **USB** Port limit patch <span class="token comment" spellcheck="true">#3 10.14.x modify by DalianSky(credits PMheart)</span>

Name: com.apple.driver.usb.Apple**USB**XHCI

Find: 83FB0F0F

Replace: 83FB3F0F

MatchOS: 10.14.x



Comment: **USB** Port limit patch <span class="token comment" spellcheck="true">#4 10.14.x modify by DalianSky(credits PMheart)</span>

Name: com.apple.driver.usb.Apple**USB**XHCI

Find: 83FF0F0F

Replace: 83FF3F0F

MatchOS: 10.14.x
</code></pre>
<ul>
<li>如图所示</li>
</ul>
<p><a href="https://imgchr.com/i/V47w3d" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/14/V47w3d.md.png" alt></a></p>
<ul>
<li>然后command+s 保存关闭即可</li>
<li>重启计算机即可解决问题</li>
</ul>
<h1 id="END"><a href="#END" class="headerlink" title="END"></a>END</h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/RoWe98/2019/06/14/Usb_Needs_Power/" data-id="ck4jwhkpr000ivo4a8t2986zx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/黑苹果/">黑苹果</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-黑苹果安装教程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/08/黑苹果安装教程/" class="article-date">
  <time datetime="2019-06-08T11:23:00.000Z" itemprop="datePublished">2019-06-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/08/黑苹果安装教程/">黑苹果安装教程 (Mojave 10.14.5) ThinkPad T450</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="黑苹果安装教程-Mojave-10-14-5"><a href="#黑苹果安装教程-Mojave-10-14-5" class="headerlink" title="黑苹果安装教程 (Mojave 10.14.5)"></a>黑苹果安装教程 (Mojave 10.14.5)</h1><h2 id="记一次我的黑苹果安装教程，本教程适用于ThinkPad-T450-傻瓜式教学"><a href="#记一次我的黑苹果安装教程，本教程适用于ThinkPad-T450-傻瓜式教学" class="headerlink" title="记一次我的黑苹果安装教程，本教程适用于ThinkPad T450 傻瓜式教学"></a>记一次我的黑苹果安装教程，本教程适用于ThinkPad T450 傻瓜式教学</h2><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="准备工具"><a href="#准备工具" class="headerlink" title="准备工具"></a>准备工具</h3><ul>
<li>U盘大于8G</li>
<li>U盘大小不限做PE盘</li>
<li><a href="https://www.balena.io/etcher/" target="_blank" rel="noopener">etcher</a></li>
<li>EFI文件（每个机型不同）</li>
<li>系统镜像</li>
</ul>
<h3 id="下载镜像"><a href="#下载镜像" class="headerlink" title="下载镜像"></a>下载镜像</h3><p><a href="https://blog.daliansky.net/macOS-Mojave-10.14.5-18F132-official-version-with-Clover-4928-original-image.html" target="_blank" rel="noopener">macOS Mojave 10.14.5 18F132 正式版 with Clover 4928原版镜像</a></p>
<h3 id="制作安装镜像"><a href="#制作安装镜像" class="headerlink" title="制作安装镜像"></a>制作安装镜像</h3><ul>
<li>下载<a href="https://www.balena.io/etcher/" target="_blank" rel="noopener">etcher</a></li>
</ul>
<p><a href="https://imgchr.com/i/VDu5VI" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/08/VDu5VI.md.png" alt></a></p>
<ul>
<li>select image 选择镜像</li>
<li>select drive 选择u盘</li>
<li>flash 写入u盘</li>
</ul>
<h3 id="将提前准备好的EFI复制粘贴到USB安装盘的EFI分区下"><a href="#将提前准备好的EFI复制粘贴到USB安装盘的EFI分区下" class="headerlink" title="将提前准备好的EFI复制粘贴到USB安装盘的EFI分区下"></a>将提前准备好的EFI复制粘贴到USB安装盘的EFI分区下</h3><h4 id="显示磁盘分区信息"><a href="#显示磁盘分区信息" class="headerlink" title="显示磁盘分区信息"></a>显示磁盘分区信息</h4><p>打开终端输入：<code>diskutil list</code></p>
<pre class=" language-bash"><code class="language-bash">RexdeMacBook-Pro:~ rex$ diskutil list
   <span class="token comment" spellcheck="true">#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
   0:      GUID_partition_scheme                        +8.0 GB     disk4
   1:                        EFI EFI                     209.7 MB   disk4s1
   2:                  Apple_HFS Install macOS Mojave         7.7 GB     disk4s2

/dev/disk3 <span class="token punctuation">(</span>disk image<span class="token punctuation">)</span>:
   <span class="token comment" spellcheck="true">#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
   0:      GUID_partition_scheme                        +7.0 GB     disk3
   1:                        EFI EFI                     209.7 MB   disk3s1
   2:                  Apple_HFS Install macOS Mojave    6.7 GB     disk3s2
</code></pre>
<p> 根据磁盘空间查看是哪个分区 找到 EFI字样 的u盘 和 我们打开的镜像</p>
<p>分别为 插入的u盘flash后的分区 <code>GUID_partition_scheme                        +8.0 GB     disk4</code></p>
<p>其efi分区为<code>EFI EFI                     209.7 MB   disk4s1</code></p>
<p>同理我们提前打开的dmg镜像的EFI为<code>disk3s1</code></p>
<p>分别挂载这两个EFI</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">sudo</span> diskutil <span class="token function">mount</span> disk4s1
<span class="token function">sudo</span> diskutil <span class="token function">mount</span> disk3s1
</code></pre>
<p>这里如果你想用傻瓜安装方法的话把你打开的镜像里面的EFI分区文件复制粘贴到USB的EFI分区里</p>
<p><img src="https://s2.ax1x.com/2019/06/08/VDKAsJ.png" alt></p>
<p><a href="https://imgchr.com/i/VDKZZR" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/08/VDKZZR.md.png" alt="
"></a></p>
<h4 id="把BOOT-和CLOVER-复制粘贴到USB的EFI分区里放在EFI文件夹里"><a href="#把BOOT-和CLOVER-复制粘贴到USB的EFI分区里放在EFI文件夹里" class="headerlink" title="把BOOT 和CLOVER 复制粘贴到USB的EFI分区里放在EFI文件夹里"></a>把BOOT 和CLOVER 复制粘贴到USB的EFI分区里放在EFI文件夹里</h4><h4 id="！！！！注意"><a href="#！！！！注意" class="headerlink" title="！！！！注意"></a>！！！！注意</h4><h4 id="这里的EFI是万能EFI是黑果小兵大大编写的万能EFI不保证可以使用"><a href="#这里的EFI是万能EFI是黑果小兵大大编写的万能EFI不保证可以使用" class="headerlink" title="这里的EFI是万能EFI是黑果小兵大大编写的万能EFI不保证可以使用"></a>这里的EFI是万能EFI是<a href="https://blog.daliansky.net/" target="_blank" rel="noopener">黑果小兵</a>大大编写的万能EFI不保证可以使用</h4><h4 id="如果你想使用现成EFI-完美支持T450的EFI那么进入如下链接下载EFI替换EFI"><a href="#如果你想使用现成EFI-完美支持T450的EFI那么进入如下链接下载EFI替换EFI" class="headerlink" title="如果你想使用现成EFI 完美支持T450的EFI那么进入如下链接下载EFI替换EFI"></a>如果你想使用现成EFI 完美支持T450的EFI那么进入如下链接下载EFI替换<a href="https://github.com/jsassu20/Lenovo-ThinkPad-T450-Mojave">EFI</a></h4><p><a href="https://imgchr.com/i/VDKMRO" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/08/VDKMRO.png" alt></a></p>
<p>这里的EFI是由<a href="https://github.com/jsassu20">jsassu20</a>为我们调试好的EFI直接就可以替换使用！</p>
<h3 id="BIOS-设定"><a href="#BIOS-设定" class="headerlink" title="BIOS 设定"></a>BIOS 设定</h3><ul>
<li>关闭Bios的安全启动</li>
<li>设置启动模式为EFI</li>
</ul>
<h2 id="安装MacOS"><a href="#安装MacOS" class="headerlink" title="安装MacOS"></a>安装MacOS</h2><ul>
<li>开机按F12 进入启动项选择选择U盘启动</li>
<li>进入Clover主菜单</li>
<li>选择<code>Boot OS X Install from install macOS Mojave</code></li>
<li>开始引导macOS系统</li>
</ul>
<p><img src="https://s2.ax1x.com/2019/06/08/VDKaJf.png" alt></p>
<p>这个过程需要1-2分钟,耐心等待进入安装程序,出现语言选择界面</p>
<ul>
<li>语言选择 选择简体中文</li>
</ul>
<p><a href="https://imgchr.com/i/VDK5y4" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/08/VDK5y4.md.png" alt></a></p>
<p>出现<code>macos实用工具</code> 界面，选择磁盘工具</p>
<h4 id="磁盘工具"><a href="#磁盘工具" class="headerlink" title="磁盘工具"></a>磁盘工具</h4><p><a href="https://imgchr.com/i/VDMZ6g" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/08/VDMZ6g.md.png" alt></a></p>
<p>选择<code>显示所有设备</code></p>
<p><a href="https://imgchr.com/i/VDMlt0" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/08/VDMlt0.md.png" alt></a></p>
<p>选择<code>SSD Media</code>,点击<code>抹掉</code>按钮,选择默认的<code>Mac OS扩展(日志型)</code>,将名称修改为<code>Macintosh HD</code>,点击<code>抹掉</code>按钮</p>
<p><strong><em>假设您的磁盘是空的且数据是已经备份过的,别怪我没提醒你!!!</em></strong></p>
<p><a href="https://imgchr.com/i/VDM8pT" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/08/VDM8pT.md.png" alt></a></p>
<p>抹盘成功后,它会自动生成一个200MB的EFI分区,这样做的好处是不会出现安装过程中的由于EFI分区尺寸小于200MB而引起的无法安装的错误.当然前提是你的磁盘中没有重要的数据,或者您的数据已经提前备份过了.</p>
<p><a href="https://imgchr.com/i/VDMNnJ" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/08/VDMNnJ.md.png" alt></a></p>
<p>到这里,磁盘工具的动作就已经结束了.退出磁盘工具进入安装界面,进行系统的安装了.</p>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p><a href="https://imgchr.com/i/VDMwA1" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/08/VDMwA1.md.png" alt></a></p>
<ul>
<li>进入安装界面</li>
<li>继续</li>
<li>同意</li>
<li>选择<code>Macintosh HD</code> 安装</li>
</ul>
<p>期间,它会把USB安装盘上的安装文件预复制到要安装的系统分区里,数据复制完后,它会自动重启</p>
<p><a href="https://imgchr.com/i/VDQAER" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/08/VDQAER.md.png" alt></a></p>
<p>然后进行第二阶段的安装</p>
<h4 id="安装第二阶段"><a href="#安装第二阶段" class="headerlink" title="安装第二阶段"></a>安装第二阶段</h4><p>第二阶段的安装会有两种界面,一种是不进安装界面直接安装,另一种是先进入安装界面直接安装,需要注意的是,无论是哪一种界面下,安装的过程中全程是禁用鼠标和键盘的,需要你做的只是耐心等待它安装完成</p>
<p><a href="https://imgchr.com/i/VDQeC6" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/08/VDQeC6.md.png" alt></a></p>
<p>安装速度取决于你的磁盘速度,第二阶段的安装已经与USB安装盘没什么关系了.macOS 10.14的安装完全区别于10.13,它不能免二次安装,甚至还需要重启多次,这些都是正常现象,请不要大惊小怪的.<br>系统安装完成后,重启进入系统设置向导</p>
<h4 id="设置向导"><a href="#设置向导" class="headerlink" title="设置向导"></a>设置向导</h4><p>这里不需要多讲，自己设置等待完成就行。</p>
<h3 id="将USB引导更换为磁盘引导"><a href="#将USB引导更换为磁盘引导" class="headerlink" title="将USB引导更换为磁盘引导"></a>将USB引导更换为磁盘引导</h3><p>这个时候我默认认为你已经可以进入系统了</p>
<p>####由于我们之前启动一直使用的USB引导 我们也不可能永远插着U盘，所以这里我们需要把U盘上的EFI复制到系统盘 <code>Macintosh HD</code> 中</p>
<ul>
<li>打开终端输入<code>diskutil list</code></li>
<li>和之前把系统的EFI复制到U盘步骤一样找到你的系统盘的EFI分区和U盘的EFI分区分别挂载将U盘的EFI复制到硬盘中即可</li>
<li>如图所示</li>
</ul>
<p><a href="https://imgchr.com/i/VDQs5q" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/08/VDQs5q.md.png" alt></a></p>
<p>如果不出什么意外你用的是刚才在github上下载的<a href="https://github.com/jsassu20/Lenovo-ThinkPad-T450-Mojave">EFI</a>的话这个时候你应该是驱动都完美的</p>
<p>附上我的桌面电池、Wi-Fi、触摸板、声卡、网卡都是完美驱动</p>
<p><img src="https://s2.ax1x.com/2019/06/08/VDQxZd.png" alt></p>
<h4 id="如果安装有问题，驱动有问题查看-黑果小兵的教程"><a href="#如果安装有问题，驱动有问题查看-黑果小兵的教程" class="headerlink" title="如果安装有问题，驱动有问题查看   黑果小兵的教程"></a>如果安装有问题，驱动有问题查看   <a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html" target="_blank" rel="noopener">黑果小兵的教程</a></h4><h2 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h2><h3 id="1-USB3-0提示插入电源"><a href="#1-USB3-0提示插入电源" class="headerlink" title="1.USB3.0提示插入电源"></a>1.USB3.0提示插入电源</h3><p>删除EFI文件夹CLOVER文件夹KEXTS目录下的Other文件夹里面USBinject.kext</p>
<p><a href="https://imgchr.com/i/VDlrOe" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/08/VDlrOe.md.png" alt></a></p>
<h3 id="2-没有我的机型的EFI"><a href="#2-没有我的机型的EFI" class="headerlink" title="2.没有我的机型的EFI"></a>2.没有我的机型的EFI</h3><p>进入这个页面查找你的机型 <a href="https://github.com/daliansky/Hackintosh">机型列表</a></p>
<h3 id="3-找不到镜像下载地址"><a href="#3-找不到镜像下载地址" class="headerlink" title="3.找不到镜像下载地址"></a>3.找不到镜像下载地址</h3><p>进入页面<a href="https://blog.daliansky.net/macOS-Mojave-10.14.5-18F132-official-version-with-Clover-4928-original-image.html" target="_blank" rel="noopener">镜像下载</a></p>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><h3 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h3><ul>
<li><a href="https://blog.daliansky.net/macOS-Mojave-10.14.5-18F132-official-version-with-Clover-4928-original-image.html" target="_blank" rel="noopener">macOS Mojave 10.14.5 18F132 正式版 with Clover 4928原版镜像</a></li>
<li><a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html" target="_blank" rel="noopener">macOS安装教程兼小米Pro安装过程记录</a></li>
<li><a href="https://github.com/daliansky/Hackintosh">Hackintosh黑苹果长期维护机型EFI及安装教程整理</a></li>
<li><a href="https://github.com/jsassu20/Lenovo-ThinkPad-T450-Mojave"><strong>Lenovo-ThinkPad-T450-Mojave</strong></a></li>
<li><a href="[http://bbs.pcbeta.com/forum-559-1.html](http://bbs.pcbeta.com/forum-559-1.html">远景论坛</a>)</li>
<li><a href="https://www.tonymacx86.com/" target="_blank" rel="noopener">tonymacx86</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/RoWe98/2019/06/08/黑苹果安装教程/" data-id="ck4jwhkql001pvo4awuwj6x60" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/黑苹果/">黑苹果</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-五子棋一" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/06/五子棋一/" class="article-date">
  <time datetime="2019-06-06T06:45:00.000Z" itemprop="datePublished">2019-06-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/06/五子棋一/">从头开始编写一个五子棋的博弈游戏(Java)(第一期)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="从头开始编写一个五子棋的博弈游戏-Java-第一期"><a href="#从头开始编写一个五子棋的博弈游戏-Java-第一期" class="headerlink" title="从头开始编写一个五子棋的博弈游戏(Java)(第一期)"></a>从头开始编写一个五子棋的博弈游戏(Java)(第一期)</h1><h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>这几天在上人工智能，老师让我们在实验环节做一个博弈类型的游戏，这里老师提示我们可以做一个五子棋的软件，于是我尝试开始自己编写一个五子棋的Java小游戏。</p>
<h2 id="设计棋盘"><a href="#设计棋盘" class="headerlink" title="设计棋盘"></a>设计棋盘</h2><p>首先我们先绘制一个面板，我希望上面的功能有：开始游戏、悔棋、模式选择、认输的功能。</p>
<p>利用Swing设计面板代码如下：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

        JFrame jf<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">JFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">"五子棋"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">650</span><span class="token punctuation">,</span> <span class="token number">580</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//先设大小，再设居中;</span>
        jf<span class="token punctuation">.</span><span class="token function">setLocationRelativeTo</span><span class="token punctuation">(</span>null<span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">setResizable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        JPanel eastp<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">JPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        eastp<span class="token punctuation">.</span><span class="token function">setPreferredSize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dimension</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        JButton buttonStart<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">"开始游戏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        JButton buttonregret<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">"悔棋"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        JButton buttonlose<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">"认输"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String<span class="token punctuation">[</span><span class="token punctuation">]</span> itemArray <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">"人人对战"</span><span class="token punctuation">,</span> <span class="token string">"人机对战"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        JComboBox<span class="token operator">&lt;</span>String<span class="token operator">></span> cbItem <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JComboBox</span><span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span>itemArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
        buttonStart<span class="token punctuation">.</span><span class="token function">setPreferredSize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dimension</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        buttonregret<span class="token punctuation">.</span><span class="token function">setPreferredSize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dimension</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        buttonlose<span class="token punctuation">.</span><span class="token function">setPreferredSize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dimension</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cbItem<span class="token punctuation">.</span><span class="token function">setPreferredSize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dimension</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        eastp<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>buttonStart<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eastp<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>buttonregret<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eastp<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>buttonlose<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eastp<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cbItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
        jf<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>eastp<span class="token punctuation">,</span>BorderLayout<span class="token punctuation">.</span>EAST<span class="token punctuation">)</span><span class="token punctuation">;</span>

        jf<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre>
<p>有了面板还不够 这里我们还需要自己绘制棋盘</p>
<p>这里我们采用的方法是重写Swing的paint方法这样每次程序运行是都会执行paint方法</p>
<p>代码如下：</p>
<pre class=" language-java"><code class="language-java">        <span class="token comment" spellcheck="true">// 绘制棋盘</span>
    <span class="token comment" spellcheck="true">// 重写JPanel的paint方法</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">paint</span><span class="token punctuation">(</span>Graphics g<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 这里由于每次新建JPanel的时候都会调用paint方法我们这里自己重写paint方法</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">paint</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">15</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            g<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token operator">+</span> <span class="token number">35</span> <span class="token operator">*</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 横线</span>
            g<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token number">30</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token operator">+</span> <span class="token number">35</span> <span class="token operator">*</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 竖线</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
</code></pre>
<p>我们运行一个程序试试结果：</p>
<p><img src="https://s2.ax1x.com/2019/06/06/VagQVP.png" alt></p>
<p>如图所示已经成功完成了面板和按钮的绘制</p>
<h2 id="画出棋子"><a href="#画出棋子" class="headerlink" title="画出棋子"></a>画出棋子</h2><p>上一步我们已经可以画出棋盘，这里我们对paint方法扩充一下，可以这样来绘制棋子</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">//重写重绘方法,这里重写的是第一个大的JPanel的方法</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">paint</span><span class="token punctuation">(</span>Graphics g<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">paint</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//画出白框</span>

        <span class="token comment" spellcheck="true">//重绘出棋盘</span>
        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>black<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>row<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            g<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token operator">+</span>size<span class="token operator">*</span>i<span class="token punctuation">,</span> x<span class="token operator">+</span>size<span class="token operator">*</span><span class="token punctuation">(</span>column<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token operator">+</span>size<span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>column<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            g<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>x<span class="token operator">+</span>size<span class="token operator">*</span>j<span class="token punctuation">,</span> y<span class="token punctuation">,</span> x<span class="token operator">+</span>size<span class="token operator">*</span>j<span class="token punctuation">,</span> y<span class="token operator">+</span>size<span class="token operator">*</span><span class="token punctuation">(</span>row<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment" spellcheck="true">//重绘出棋子</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>row<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>column<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">int</span> countx<span class="token operator">=</span>size<span class="token operator">*</span>j<span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">;</span>
                    <span class="token keyword">int</span> county<span class="token operator">=</span>size<span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">;</span>
                    g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>black<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    g<span class="token punctuation">.</span><span class="token function">fillOval</span><span class="token punctuation">(</span>countx<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> county<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>isAvail<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">int</span> countx<span class="token operator">=</span>size<span class="token operator">*</span>j<span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">;</span>
                    <span class="token keyword">int</span> county<span class="token operator">=</span>size<span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">;</span>
                    g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    g<span class="token punctuation">.</span><span class="token function">fillOval</span><span class="token punctuation">(</span>countx<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> county<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/RoWe98/2019/06/06/五子棋一/" data-id="ck4jwhkqf001fvo4a2bi93u3k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/五子棋/">五子棋</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Https/">Https</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PyQt/">PyQt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSL证书/">SSL证书</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows-Terminal/">Windows Terminal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git仓库/">git仓库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/https/">https</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/七牛云/">七牛云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二级域名/">二级域名</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/五子棋/">五子棋</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/人脸识别/">人脸识别</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/公钥/">公钥</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/单片机/">单片机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博客搭建/">博客搭建</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/宝塔面板/">宝塔面板</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文档/">文档</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/智慧教室-树莓派/">智慧教室 树莓派</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/机器学习/">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/私钥/">私钥</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/黑苹果/">黑苹果</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 12.5px;">C#</a> <a href="/tags/Https/" style="font-size: 10px;">Https</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/PyQt/" style="font-size: 10px;">PyQt</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/SSL证书/" style="font-size: 10px;">SSL证书</a> <a href="/tags/Windows-Terminal/" style="font-size: 10px;">Windows Terminal</a> <a href="/tags/git仓库/" style="font-size: 10px;">git仓库</a> <a href="/tags/http/" style="font-size: 10px;">http</a> <a href="/tags/https/" style="font-size: 10px;">https</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/七牛云/" style="font-size: 10px;">七牛云</a> <a href="/tags/二级域名/" style="font-size: 10px;">二级域名</a> <a href="/tags/五子棋/" style="font-size: 17.5px;">五子棋</a> <a href="/tags/人脸识别/" style="font-size: 10px;">人脸识别</a> <a href="/tags/公钥/" style="font-size: 10px;">公钥</a> <a href="/tags/单片机/" style="font-size: 10px;">单片机</a> <a href="/tags/博客搭建/" style="font-size: 10px;">博客搭建</a> <a href="/tags/宝塔面板/" style="font-size: 10px;">宝塔面板</a> <a href="/tags/文档/" style="font-size: 10px;">文档</a> <a href="/tags/智慧教室-树莓派/" style="font-size: 10px;">智慧教室 树莓派</a> <a href="/tags/机器学习/" style="font-size: 10px;">机器学习</a> <a href="/tags/私钥/" style="font-size: 10px;">私钥</a> <a href="/tags/黑苹果/" style="font-size: 15px;">黑苹果</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/12/24/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2019/12/24/OpenCvCarReco/">基于OpenCV技术的汽车牌照的识别</a>
          </li>
        
          <li>
            <a href="/2019/12/24/How-to-make-A-image-Server/">如何搭建一个图片服务器</a>
          </li>
        
          <li>
            <a href="/2019/12/24/JavaSocket/">利用Socket编程(TCP协议)完成聊天室</a>
          </li>
        
          <li>
            <a href="/2019/12/24/Fix-Bug-Baidu-Aip/">修改百度开放平台人脸识别错误[Python]json 错误xx is not JSON serializable</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Rex Rowe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>